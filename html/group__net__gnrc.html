<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Generic (GNRC) network stack</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
                        displaySR();
                    }finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              var r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;
                              var x=document.getElementById('MSearchResults');
                              if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                              var f=document.getElementById('riot-searchform');
                              if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__net__gnrc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a>  </div>
  <div class="headertitle">
<div class="title">Generic (GNRC) network stack<div class="ingroups"><a class="el" href="group__net.html">Networking</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>RIOT's modular default IP network stack.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>RIOT's modular default IP network stack. </p>
<dl class="section see"><dt>See also</dt><dd><a href="http://doc.riot-os.org/mlenders_msc.pdf">Martine Lenders' master thesis</a> about GNRC's design and evaluation and the slide set of <a href="http://doc.riot-os.org/mlenders_msc_def.pdf">its defense</a>.</dd></dl>
<h1>About </h1>
<p>This module is currently the default network stack for RIOT and includes many components ranging from a <a class="el" href="group__net__gnrc__netif.html">Network interface API</a> through a fully-featured <a class="el" href="group__net__gnrc__ipv6.html">IPv6</a> implementation with <a class="el" href="group__net__gnrc__sixlowpan.html">6LowPAN</a> extensions to an <a class="el" href="group__net__gnrc__udp.html">UDP</a> implementation and <a class="el" href="group__net__gnrc__rpl.html">RPL</a>.</p>
<p>A list of all features contained in the <a class="el" href="group__net__gnrc.html">Generic (GNRC) network stack</a> is available in the <code>Modules</code> section above.</p>
<h1>Integration into RIOT </h1>
<p>From the application layer the <a class="el" href="group__net__gnrc.html">Generic (GNRC) network stack</a> can be accessed through the <a class="el" href="group__net__sock.html">Sock API</a>, while the interface to the <a class="el" href="group__drivers__netdev__api.html">Netdev - Network Device Driver API</a> is defined by the <a class="el" href="group__net__gnrc__netif.html">Network interface API</a>.</p>
<h1>Architecture </h1>
<div class="image">
<object type="image/svg+xml" data="riot-gnrc.svg">riot-gnrc.svg</object>
<div class="caption">
GNRC Network Stack</div></div>
<p> Each layer of the network stack runs in its own thread and each lower layer thread has a higher priority than any upper layer thread. In this regard, the thread of the MAC layer implementation has the highest priority and threads on the application layer have the lowest priority. The communication between threads is handled by the kernel's <a class="el" href="group__core__msg.html">Messaging / IPC</a> functionality and by the <a class="el" href="group__net__gnrc__netapi.html">GNRC communication interface</a>. Most of the times IPC will take place between threads of neighboring layers for packets that traverse the network stack up or down.</p>
<p>Due to the design of <a class="el" href="group__net__gnrc.html">GNRC</a> and the nature of inter-process communication, it is crucial for a new module that introduces a new thread to follow a certain programming construct if it desires to interact with other threads without blocking the system: Utilizing an <code>event loop</code>.</p>
<p>Hence, a thread for <a class="el" href="group__net__gnrc.html">GNRC</a> will usually consist of four basic steps.</p>
<ol type="1">
<li>Initialize a message queue (note that its size <b>must</b> be a power of two, see <a class="el" href="group__core__msg.html#ga480e6f32c8ab18579b62a890f3fda2cd">msg_init_queue()</a>)</li>
<li>register for a <a class="el" href="group__net__gnrc__nettype.html">Protocol type</a></li>
<li>wait for a message</li>
<li>react appropriately to a message and return to 3.</li>
</ol>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> *<a class="code" href="eventloop_8h.html#a312af9425841adf3947c8485916bd0de">_event_loop</a>(<span class="keywordtype">void</span> *arg)</div><div class="line">{</div><div class="line">    <span class="keyword">static</span> <a class="code" href="structmsg__t.html">msg_t</a> _msg_q[Q_SZ];</div><div class="line">    (void)arg;</div><div class="line">    <a class="code" href="group__core__msg.html#ga480e6f32c8ab18579b62a890f3fda2cd">msg_init_queue</a>(_msg_q, Q_SZ);</div><div class="line">    <a class="code" href="structgnrc__netreg__entry.html">gnrc_netreg_entry</a> me_reg = <a class="code" href="group__net__gnrc__netreg.html#gaed56e891d9a47cba3dcf80f927623137">GNRC_NETREG_ENTRY_INIT_PID</a>(</div><div class="line">                                     <a class="code" href="group__net__gnrc__netreg.html#ga1a6359efa13b3bfed70af55deacde7ae">GNRC_NETREG_DEMUX_CTX_ALL</a>,</div><div class="line">                                     <a class="code" href="group__core__sched.html#ga4a646bb2ea6be02c6c4a554bf8778a69">sched_active_pid</a>);</div><div class="line">    <a class="code" href="group__net__gnrc__netreg.html#gafb6a9d0b840aae07c3c1617932835ef1">gnrc_netreg_register</a>(<a class="code" href="group__net__gnrc__nettype.html#gga2582fbb16a318806983c225a69460902a5b4cb265411204c95e4a4996dcafe380">GNRC_NETTYPE_IPV6</a>, &amp;me_reg);</div><div class="line">    <span class="keywordflow">while</span> (1) {</div><div class="line">        <a class="code" href="group__core__msg.html#gae3e05f08bd71d6f65dc727624c4d5f7a">msg_receive</a>(&amp;msg);</div><div class="line">        <span class="keywordflow">switch</span> (msg.type) {</div><div class="line">            <span class="keywordflow">case</span> TYPE1:</div><div class="line">                callback1();</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            ...</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> NULL;</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>As an example have a look at the event loops of <a class="el" href="group__net__gnrc__ipv6.html">IPv6</a> and <a class="el" href="group__net__gnrc__rpl.html">RPL</a></dd></dl>
<h1>Receiving / Transmitting Packets </h1>
<p>Packets can be received or transmitted by interacting with the <a class="el" href="group__net__gnrc__netapi.html">GNRC communication interface</a>.</p>
<h2>Receiving Packets </h2>
<p>The reception of a <a class="el" href="group__net__gnrc__pkt.html">Packet</a> from another thread is handled by the <a class="el" href="group__net__gnrc__netapi.html">GNRC communication interface</a> module. In order to receive a <a class="el" href="group__net__gnrc__pkt.html">Packet</a> of a specific type, it is necessary to register for the appropriate <a class="el" href="group__net__gnrc__nettype.html">Protocol type</a> first. Your thread will then be able to receive certain commands defined in the <a class="el" href="group__net__gnrc__netapi.html">GNRC communication interface</a> module (e.g. <a class="el" href="group__net__gnrc__netapi.html#ga57b7e8cf32c12beecc9b84ca2cc073b5">net_gnrc_netapi::GNRC_NETAPI_MSG_TYPE_RCV</a>) for all <a class="el" href="group__net__gnrc__pkt.html">Packets</a> that your thread registered for.</p>
<p>The following example will sketch how to receive incoming and outgoing UDP traffic on port 80.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> *<a class="code" href="eventloop_8h.html#a312af9425841adf3947c8485916bd0de">_event_loop</a>(<span class="keywordtype">void</span> *arg)</div><div class="line">{</div><div class="line">    <span class="keyword">static</span> <a class="code" href="structmsg__t.html">msg_t</a> _msg_q[Q_SZ];</div><div class="line">    <a class="code" href="structmsg__t.html">msg_t</a> msg, reply;</div><div class="line">    reply.<a class="code" href="structmsg__t.html#a0014bd01d347dadc3e3289caec391d35">type</a> = <a class="code" href="group__net__gnrc__netapi.html#ga6edd8d8871394091cff19457fc3da1b5">GNRC_NETAPI_MSG_TYPE_ACK</a>;</div><div class="line">    reply.<a class="code" href="structmsg__t.html#a0a431e79cc91d99d711dc79b586e7865">content</a>.<a class="code" href="structmsg__t.html#af85cec640cceaa304c14b26254923adc">value</a> = -<a class="code" href="group__cpu__atmega__common.html#ga91457bbf35f0f1085619a99423bb1f33">ENOTSUP</a>;</div><div class="line">    <a class="code" href="group__core__msg.html#ga480e6f32c8ab18579b62a890f3fda2cd">msg_init_queue</a>(_msg_q, Q_SZ);</div><div class="line">    <a class="code" href="structgnrc__pktsnip.html">gnrc_pktsnip_t</a> *pkt = NULL;</div><div class="line">    <a class="code" href="structgnrc__netreg__entry.html">gnrc_netreg_entry</a> me_reg = { .<a class="code" href="structgnrc__netreg__entry.html#a0fe3f1311abb5730b17f0d86fe97bf14">demux_ctx</a> = 80, .pid = <a class="code" href="group__core__thread.html#gab68e945fba9216126e255648a9a4ee8a">thread_getpid</a>() };</div><div class="line">    <a class="code" href="group__net__gnrc__netreg.html#gafb6a9d0b840aae07c3c1617932835ef1">gnrc_netreg_register</a>(<a class="code" href="group__net__gnrc__nettype.html#gga2582fbb16a318806983c225a69460902a73162332c559b1a558e5d076e28d53ad">GNRC_NETTYPE_UDP</a>, &amp;me_reg);</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (1) {</div><div class="line">        <a class="code" href="group__core__msg.html#gae3e05f08bd71d6f65dc727624c4d5f7a">msg_receive</a>(&amp;msg);</div><div class="line">        <span class="keywordflow">switch</span> (msg.<a class="code" href="structmsg__t.html#a0014bd01d347dadc3e3289caec391d35">type</a>) {</div><div class="line">            <span class="keywordflow">case</span> <a class="code" href="group__net__gnrc__netapi.html#ga57b7e8cf32c12beecc9b84ca2cc073b5">GNRC_NETAPI_MSG_TYPE_RCV</a>:</div><div class="line">                pkt = msg.<a class="code" href="structmsg__t.html#a0a431e79cc91d99d711dc79b586e7865">content</a>.<a class="code" href="structmsg__t.html#a9672ce03c60b2c68d30d5ea9c21da980">ptr</a>;</div><div class="line">                _handle_incoming_pkt(pkt);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            <span class="keywordflow">case</span> <a class="code" href="group__net__gnrc__netapi.html#gacf009a7a7aa95ec88848b1030ef08b09">GNRC_NETAPI_MSG_TYPE_SND</a>:</div><div class="line">                pkt = msg.<a class="code" href="structmsg__t.html#a0a431e79cc91d99d711dc79b586e7865">content</a>.<a class="code" href="structmsg__t.html#a9672ce03c60b2c68d30d5ea9c21da980">ptr</a>;</div><div class="line">                _handle_outgoing_pkt(pkt);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">             <span class="keywordflow">case</span> <a class="code" href="group__net__gnrc__netapi.html#ga81e297b6dd96cf0a565a9dc77cc54e11">GNRC_NETAPI_MSG_TYPE_SET</a>:</div><div class="line">             <span class="keywordflow">case</span> <a class="code" href="group__net__gnrc__netapi.html#gacc19be168656448df4d274293dc23916">GNRC_NETAPI_MSG_TYPE_GET</a>:</div><div class="line">                <a class="code" href="group__core__msg.html#ga2e7b09dc269eb4847f6e08b9900ffda9">msg_reply</a>(&amp;msg, &amp;reply);</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">            <span class="keywordflow">default</span>:</div><div class="line">                <span class="keywordflow">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> NULL;</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>When receiving a message of type <a class="el" href="group__net__gnrc__netapi.html#ga81e297b6dd96cf0a565a9dc77cc54e11">GNRC_NETAPI_MSG_TYPE_SET</a> or <a class="el" href="group__net__gnrc__netapi.html#gacc19be168656448df4d274293dc23916">GNRC_NETAPI_MSG_TYPE_GET</a>, it is necessary to acknowledge it by calling <a class="el" href="group__core__msg.html#ga2e7b09dc269eb4847f6e08b9900ffda9">msg_reply()</a> with a message of type <a class="el" href="group__net__gnrc__netapi.html#ga6edd8d8871394091cff19457fc3da1b5">GNRC_NETAPI_MSG_TYPE_ACK</a> which contains the actual size of the GET message's content on success or an error code otherwise.</dd>
<dd>
Do not forget to unregister with <a class="el" href="group__net__gnrc__netreg.html#gad68b86ef84f5b1c6391067bdd8b16f2b">gnrc_netreg_unregister()</a> if you leave the function context</dd></dl>
<h2>Transmitting Packets </h2>
<p>A packet is transmitted by relaying it to threads interested in handling (and dispatching) packets of its type. To do this, the <a class="el" href="group__net__gnrc__netapi.html">GNRC communication interface</a> offers dispatch helper functions called <a class="el" href="group__net__gnrc__netapi.html#ga2b5b0f662061aa332cc1cbb9c145ee07">gnrc_netapi_dispatch_send()</a> and <a class="el" href="group__net__gnrc__netapi.html#ga29426dfcc0b46e451efab9939b41d95e" title="Sends a GNRC_NETAPI_MSG_TYPE_RCV command to all subscribers to (type, demux_ctx). ...">gnrc_netapi_dispatch_receive()</a>.</p>
<p>The following example sketches the usage and assumes a valid <a class="el" href="group__net__gnrc__pkt.html">Packet</a> named <code>pkt</code>.</p>
<div class="fragment"><div class="line"><a class="code" href="structgnrc__pktsnip.html">gnrc_pktsnip_t</a> *pkt;</div><div class="line"></div><div class="line">pkt = <a class="code" href="group__net__gnrc__pktbuf.html#ga658aed0ce2b31d784e32849eb0f60d27">gnrc_pktbuf_add</a>(NULL, data, size, <a class="code" href="group__net__gnrc__nettype.html#gga2582fbb16a318806983c225a69460902aadb666d279898cdecd1dcc0cc18799f1">GNRC_NETTYPE_UNDEF</a>);</div><div class="line"><span class="keywordflow">if</span> (pkt == NULL) {</div><div class="line">     puts(<span class="stringliteral">&quot;Error: unable to copy data to packet buffer\n&quot;</span>);</div><div class="line">     <span class="keywordflow">return</span>;</div><div class="line">}</div><div class="line"><span class="keywordflow">if</span> (!<a class="code" href="group__net__gnrc__netapi.html#ga2b5b0f662061aa332cc1cbb9c145ee07">gnrc_netapi_dispatch_send</a>(<a class="code" href="group__net__gnrc__nettype.html#gga2582fbb16a318806983c225a69460902a73162332c559b1a558e5d076e28d53ad">GNRC_NETTYPE_UDP</a>, 80, pkt)) {</div><div class="line">     puts(<span class="stringliteral">&quot;Error: no thread is interested&quot;</span>);</div><div class="line">     <a class="code" href="group__net__gnrc__pktbuf.html#gaed632f849e2ae54b8ec22990967ca38a">gnrc_pktbuf_release</a>(pkt);</div><div class="line">     <span class="keywordflow">return</span>;</div><div class="line">}</div></div><!-- fragment --><p>First, the data to be sent is added to the <a class="el" href="group__net__gnrc__pktbuf.html">packet buffer</a>. This ensures its intactness during the sending process. After the data to be sent has been added to the packet buffer, its parent data structure can safely be freed or re-used.</p>
<p>Then, the <a class="el" href="group__net__gnrc__pkt.html">pkt</a> will be sent to all threads that registered for <a class="el" href="group__net__gnrc__nettype.html#gga2582fbb16a318806983c225a69460902a73162332c559b1a558e5d076e28d53ad">GNRC_NETTYPE_UDP</a> and the demux context <code>80</code>. Every registered thread will receive a <a class="el" href="group__net__gnrc__netapi.html#gacf009a7a7aa95ec88848b1030ef08b09">GNRC_NETAPI_MSG_TYPE_SND</a> command and can access the <a class="el" href="group__net__gnrc__pkt.html">Packet</a>. Note that at this point, the threads receiving pkt act as its owners, so please don't modify pkt after calling any dispatch function.</p>
<p>If <a class="el" href="group__net__gnrc__netapi.html#ga2b5b0f662061aa332cc1cbb9c145ee07">gnrc_netapi_dispatch_send()</a> is replaced by <a class="el" href="group__net__gnrc__netapi.html#ga29426dfcc0b46e451efab9939b41d95e">gnrc_netapi_dispatch_receive()</a> then threads will receive the <a class="el" href="group__net__gnrc__netapi.html#ga57b7e8cf32c12beecc9b84ca2cc073b5">GNRC_NETAPI_MSG_TYPE_RCV</a> command instead, again with access to the <a class="el" href="group__net__gnrc__pkt.html">Packet</a>.</p>
<dl class="section note"><dt>Note</dt><dd>If the data to be sent requires extra headers to be added for successful transmission (in the example, this would be IP and UDP headers), these have to be built manually before calling <a class="el" href="group__net__gnrc__netapi.html#ga2b5b0f662061aa332cc1cbb9c145ee07">gnrc_netapi_dispatch_send()</a>. In the interest of conciseness, this is omitted in this tutorial; please refer to <a class="el" href="group__net__gnrc__udp.html#ga262e6ffc6333255900f79329d9e445b9">gnrc_udp_hdr_build()</a>, <a class="el" href="group__net__gnrc__ipv6__hdr.html#gaf1cd3803edcb97066ec8b8ec19f4a2cb">gnrc_ipv6_hdr_build()</a> etc. for more information.</dd>
<dd>
GNRC is implemented according to the respective standards. So please note, that sending to a IPv6 link-local address always requires you by definition to also provide the interface you want to send to, otherwise address resolution might fail.</dd></dl>
<h1>How To Use </h1>
<p><a class="el" href="group__net__gnrc.html">Generic (GNRC) network stack</a> is highly modular and can be adjusted to include only the desired features. In the following several of the available modules will be stated that you can include in your application's Makefile.</p>
<ul>
<li>To include the default network device(s) on your board: <div class="fragment"><div class="line">USEMODULE += gnrc_netdev_default</div></div><!-- fragment --></li>
<li>To auto-initialize these network devices as GNRC network interfaces <div class="fragment"><div class="line">USEMODULE += auto_init_gnrc_netif</div></div><!-- fragment --></li>
<li>You may choose to build either as an IPv6 Node <div class="fragment"><div class="line">USEMODULE += gnrc_ipv6_default</div></div><!-- fragment --> or as an IPv6 Router <div class="fragment"><div class="line">USEMODULE += gnrc_ipv6_router_default</div></div><!-- fragment --> An IPv6 Router can forward packets, while an IPv6 Node will simply drop packets not targeted to it. If an IEEE 802.15.4 network device is present <a class="el" href="group__net__gnrc__sixlowpan.html">6LoWPAN</a> (with <a class="el" href="group__net__gnrc__sixlowpan__frag.html">6LoWPAN Fragmentation</a> and <a class="el" href="group__net__gnrc__sixlowpan__iphc.html">IPv6 header compression (IPHC)</a>) will be included automatically.</li>
<li>For basic IPv6 (and 6LoWPAN) functionalities choose instead <div class="fragment"><div class="line">USEMODULE += gnrc_ipv6</div></div><!-- fragment --> or <div class="fragment"><div class="line">USEMODULE += gnrc_ipv6_router</div></div><!-- fragment --> respectively. Those modules provide the bare minimum of IPv6 functionalities (no <a class="el" href="group__net__gnrc__icmpv6.html">ICMPv6</a>). Because of that, the <a class="el" href="group__net__gnrc__ipv6__nib.html">Neighbor Information Base for IPv6</a> needs to be configured manually. If an IEEE 802.15.4 device is present <a class="el" href="group__net__gnrc__sixlowpan.html">6LoWPAN</a> will be included automatically, but no fragmentation or header compression support will be provided.</li>
<li>For <a class="el" href="group__net__gnrc__icmpv6__echo.html">ICMPv6 echo request/reply (ping)</a> functionality: <div class="fragment"><div class="line">USEMODULE += gnrc_icmpv6_echo</div></div><!-- fragment --></li>
<li>For <a class="el" href="group__net__gnrc__udp.html">UDP</a> support include <div class="fragment"><div class="line">USEMODULE += gnrc_udp</div></div><!-- fragment --></li>
<li>To use <a class="el" href="group__net__sock__udp.html">UDP sock API</a> with GNRC include <div class="fragment"><div class="line">USEMODULE += gnrc_sock_udp</div></div><!-- fragment --></li>
<li>To include the <a class="el" href="group__net__gnrc__rpl.html">RPL</a> module <div class="fragment"><div class="line">USEMODULE += gnrc_rpl</div></div><!-- fragment --> This will include the <a class="el" href="group__net__gnrc__rpl.html">RPL</a> module. To provide forwarding capabilities it is necessary to build the application with <code>gnrc_ipv6_router_default</code> (or <code>gnrc_ipv6_router</code>), not <code>gnrc_ipv6_default</code> (or <code>gnrc_ipv6</code>). </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__net__gnrc__sixlowpan"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__sixlowpan.html">6LoWPAN</a></td></tr>
<tr class="memdesc:group__net__gnrc__sixlowpan"><td class="mdescLeft">&#160;</td><td class="mdescRight">GNRC's 6LoWPAN implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__mac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__mac.html">Common MAC module</a></td></tr>
<tr class="memdesc:group__net__gnrc__mac"><td class="mdescLeft">&#160;</td><td class="mdescRight">A MAC module for providing common MAC parameters and helper functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__pktdump"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__pktdump.html">Dump Network Packets</a></td></tr>
<tr class="memdesc:group__net__gnrc__pktdump"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump network packets to STDOUT for debugging. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__neterr"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__neterr.html">Error reporting</a></td></tr>
<tr class="memdesc:group__net__gnrc__neterr"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows for asynchronous error reporting in the network stack. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__lorawan"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__lorawan.html">GNRC LoRaWAN</a></td></tr>
<tr class="memdesc:group__net__gnrc__lorawan"><td class="mdescLeft">&#160;</td><td class="mdescRight">GNRC LoRaWAN stack implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__netapi"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__netapi.html">GNRC communication interface</a></td></tr>
<tr class="memdesc:group__net__gnrc__netapi"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic interface for IPC communication between GNRC modules. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__sock"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__sock.html">GNRC-specific implementation of the sock API</a></td></tr>
<tr class="memdesc:group__net__gnrc__sock"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides an implementation of the <a class="el" href="group__net__sock.html">Sock API</a> by the <a class="el" href="group__net__gnrc.html">Generic (GNRC) network stack</a>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__gomach"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__gomach.html">GoMacH</a></td></tr>
<tr class="memdesc:group__net__gnrc__gomach"><td class="mdescLeft">&#160;</td><td class="mdescRight">A traffic-adaptive multi-channel MAC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__ipv6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__ipv6.html">IPv6</a></td></tr>
<tr class="memdesc:group__net__gnrc__ipv6"><td class="mdescLeft">&#160;</td><td class="mdescRight">GNRC's IPv6 implementation. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__lwmac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__lwmac.html">LWMAC</a></td></tr>
<tr class="memdesc:group__net__gnrc__lwmac"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Lightweight duty-cycling 802.15.4 MAC protocol. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__netif"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__netif.html">Network interface API</a></td></tr>
<tr class="memdesc:group__net__gnrc__netif"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstraction layer for GNRC's network interfaces. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__netreg"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__netreg.html">Network protocol registry</a></td></tr>
<tr class="memdesc:group__net__gnrc__netreg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registry to receive messages of a specified protocol type by GNRC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__pktbuf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__pktbuf.html">Packet buffer</a></td></tr>
<tr class="memdesc:group__net__gnrc__pktbuf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A global network packet buffer. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__pktqueue"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__pktqueue.html">Packet queue</a></td></tr>
<tr class="memdesc:group__net__gnrc__pktqueue"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__net__gnrc__pkt.html#ga278e783e56a5ee6f1bd7b81077ed82a7">gnrc_pktsnip_t</a> queue <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__priority__pktqueue"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__priority__pktqueue.html">Priority packet queue for GNRC</a></td></tr>
<tr class="memdesc:group__net__gnrc__priority__pktqueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for priority_queue that holds gnrc_pktsnip_t*. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__nettype"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__nettype.html">Protocol type</a></td></tr>
<tr class="memdesc:group__net__gnrc__nettype"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protocol type definitions and helper functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__rpl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__rpl.html">RPL</a></td></tr>
<tr class="memdesc:group__net__gnrc__rpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">RPL implementation for GNRC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__tcp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__tcp.html">TCP</a></td></tr>
<tr class="memdesc:group__net__gnrc__tcp"><td class="mdescLeft">&#160;</td><td class="mdescRight">RIOT's TCP implementation for the GNRC network stack. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__net__gnrc__udp"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__gnrc__udp.html">UDP</a></td></tr>
<tr class="memdesc:group__net__gnrc__udp"><td class="mdescLeft">&#160;</td><td class="mdescRight">GNRC's implementation of the UDP protocol. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:gnrc_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnrc_8h.html">gnrc.h</a></td></tr>
<tr class="memdesc:gnrc_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Includes all essential GNRC network stack base modules. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Fri Jul 3 2020 13:27:56 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
