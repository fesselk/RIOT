<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>MQTT-SN Client (emCute)</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
                        var rhtml=document.getElementById('MSearchResults').contentWindow.document.body.innerHTML;
                        document.getElementById('MSearchResultsWindow').style.display='none';
                        document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
                        document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
                        document.getElementById('doc-content').innerHTML=rhtml;
                        }finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__net__emcute.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MQTT-SN Client (emCute)<div class="ingroups"><a class="el" href="group__net.html">Networking</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>emCute, the MQTT-SN implementation for RIOT  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>emCute, the MQTT-SN implementation for RIOT </p>
<h1>About</h1>
<p>emCute is the implementation of the OASIS MQTT-SN protocol for RIOT. It is designed with a focus on small memory footprint and usability.</p>
<h1>Design Decisions and Restrictions</h1>
<ul>
<li>emCute is designed to run on top of UDP only, making use of <a class="el" href="group__net__sock__udp.html">UDP sock API</a>. The design is not intended to be used with any other transport.</li>
</ul>
<p>The implementation is based on a 2-thread model: emCute needs one thread of its own, in which receiving of packets and sending of ping messages are handled. All 'user space functions' have to run from (a) different (i.e. user) thread(s). emCute uses thread flags to synchronize between threads.</p>
<p>Further know restrictions are:</p><ul>
<li>ASCII topic names only (no support for UTF8 names, yet)</li>
<li>topic length is restricted to fit in a single length byte (248 byte max)</li>
<li>no support for wildcards in topic names. This feature requires more elaborate internal memory management, supposedly at the cost of quite increased ROM and RAM usage</li>
<li>no retransmit when receiving a REJ_CONG (reject, reason congestion). when getting a REJ_CONG (reject, reason congestion), the spec tells us to resend the original message after T_WAIT (default: &gt;5min). This is not supported, as this would require to block to calling thread (or keep state) for long periods of time and is (in Hauke's opinion) not feasible for constrained nodes.</li>
</ul>
<h1>Error Handling</h1>
<p>This implementation tries minimize parameter checks to a minimum, checking as many parameters as feasible using assertions. For the sake of run-time stability and usability, typical overflow checks are always done during run- time and explicit error values returned in case of errors.</p>
<h1>Implementation state</h1>
<p>In the current state, emCute supports:</p><ul>
<li>connecting to a gateway</li>
<li>disconnecting from gateway</li>
<li>registering a last will topic and message during connection setup</li>
<li>registering topic names with the gateway (obtaining topic IDs)</li>
<li>subscribing to topics</li>
<li>unsubscribing from topics</li>
<li>updating will topic</li>
<li>updating will message</li>
<li>sending out periodic PINGREQ messages</li>
<li>handling re-transmits</li>
</ul>
<p>The following features are however still missing (but planned): </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000038">Todo:</a></b></dt><dd><p class="startdd">Gateway discovery (so far there is no support for handling ADVERTISE, GWINFO, and SEARCHGW). Open question to answer here: how to put / how to encode the IPv(4/6) address AND the port of a gateway in the GwAdd field of the GWINFO message </p>
<p>QOS level 2 </p>
<p>put the node to sleep (send DISCONNECT with duration field set) </p>
<p>handle DISCONNECT messages initiated by the broker/gateway </p>
<p>support for pre-defined and short topic IDs </p>
<p>handle (previously) active subscriptions on reconnect/disconnect </p>
<p>handle re-connect/disconnect from unresponsive gateway (in case a number of ping requests are unanswered) </p>
<p class="enddd">react only to incoming ping requests that are actually send by the gateway we are connected to</p>
</dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:emcute_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emcute_8h.html">emcute.h</a></td></tr>
<tr class="memdesc:emcute_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">emCute MQTT-SN interface definition <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:emcute__internal_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emcute__internal_8h.html">emcute_internal.h</a></td></tr>
<tr class="memdesc:emcute__internal_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">emCute internals <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structemcute__topic__t.html">emcute_topic_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT-SN topic.  <a href="structemcute__topic__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structemcute__sub.html">emcute_sub</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data-structure for keeping track of topics we register to.  <a href="structemcute__sub.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8ffb7d89da2b2be74bedd3d4f56e1628"><td class="memItemLeft" align="right" valign="top"><a id="ga8ffb7d89da2b2be74bedd3d4f56e1628"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga8ffb7d89da2b2be74bedd3d4f56e1628">EMCUTE_DEFAULT_PORT</a>&#160;&#160;&#160;(1883U)</td></tr>
<tr class="memdesc:ga8ffb7d89da2b2be74bedd3d4f56e1628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default UDP port to listen on (also used as SRC port) <br /></td></tr>
<tr class="separator:ga8ffb7d89da2b2be74bedd3d4f56e1628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cd994a579b9384f55badc7049987d0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga8cd994a579b9384f55badc7049987d0a">EMCUTE_BUFSIZE</a>&#160;&#160;&#160;(512U)</td></tr>
<tr class="memdesc:ga8cd994a579b9384f55badc7049987d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size used for emCute's transmit and receive buffers.  <a href="#ga8cd994a579b9384f55badc7049987d0a">More...</a><br /></td></tr>
<tr class="separator:ga8cd994a579b9384f55badc7049987d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf59c99da60307cb09b283d7f477f9fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#gaaf59c99da60307cb09b283d7f477f9fb">EMCUTE_TOPIC_MAXLEN</a>&#160;&#160;&#160;(196U)</td></tr>
<tr class="memdesc:gaaf59c99da60307cb09b283d7f477f9fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum topic length.  <a href="#gaaf59c99da60307cb09b283d7f477f9fb">More...</a><br /></td></tr>
<tr class="separator:gaaf59c99da60307cb09b283d7f477f9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9ab2e6642014583809b355616658452"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#gaa9ab2e6642014583809b355616658452">EMCUTE_KEEPALIVE</a>&#160;&#160;&#160;(360)       /* -&gt; 6 min*/</td></tr>
<tr class="memdesc:gaa9ab2e6642014583809b355616658452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keep-alive interval [in s].  <a href="#gaa9ab2e6642014583809b355616658452">More...</a><br /></td></tr>
<tr class="separator:gaa9ab2e6642014583809b355616658452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8700166604648250750030b3f9d1797a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga8700166604648250750030b3f9d1797a">EMCUTE_T_RETRY</a>&#160;&#160;&#160;(15U)       /* -&gt; 15 sec */</td></tr>
<tr class="memdesc:ga8700166604648250750030b3f9d1797a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-send interval [in seconds].  <a href="#ga8700166604648250750030b3f9d1797a">More...</a><br /></td></tr>
<tr class="separator:ga8700166604648250750030b3f9d1797a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga038408cdae8c1dfc3aa7ca53f2536005"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga038408cdae8c1dfc3aa7ca53f2536005">EMCUTE_N_RETRY</a>&#160;&#160;&#160;(3U)</td></tr>
<tr class="memdesc:ga038408cdae8c1dfc3aa7ca53f2536005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of retries when sending packets.  <a href="#ga038408cdae8c1dfc3aa7ca53f2536005">More...</a><br /></td></tr>
<tr class="separator:ga038408cdae8c1dfc3aa7ca53f2536005"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8cb06b314ff2eda4230e9f0e33a07d8b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga8cb06b314ff2eda4230e9f0e33a07d8b">emcute_cb_t</a>) (const <a class="el" href="structemcute__topic__t.html">emcute_topic_t</a> *topic, void *data, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:ga8cb06b314ff2eda4230e9f0e33a07d8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signature for callbacks fired when publish messages are received.  <a href="#ga8cb06b314ff2eda4230e9f0e33a07d8b">More...</a><br /></td></tr>
<tr class="separator:ga8cb06b314ff2eda4230e9f0e33a07d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b5dd23459016a5af4db3a57903cb163"><td class="memItemLeft" align="right" valign="top"><a id="ga2b5dd23459016a5af4db3a57903cb163"></a>
typedef struct <a class="el" href="structemcute__sub.html">emcute_sub</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga2b5dd23459016a5af4db3a57903cb163">emcute_sub_t</a></td></tr>
<tr class="memdesc:ga2b5dd23459016a5af4db3a57903cb163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data-structure for keeping track of topics we register to. <br /></td></tr>
<tr class="separator:ga2b5dd23459016a5af4db3a57903cb163"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga421f1923368b3e67d5e38f7e1100884f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa2d2792878ec922129f7ade76c26f579c">EMCUTE_DUP</a> = 0x80, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa44fe26276d2d2b35915dfafd51e2f393">EMCUTE_QOS_MASK</a> = 0x60, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa2214f711551a2f089d26630acb3287d4">EMCUTE_QOS_2</a> = 0x40, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa2219d439602a4dbe1d0236ba522119d3">EMCUTE_QOS_1</a> = 0x20, 
<br />
&#160;&#160;<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa4a2900a3a34d616f6b19fb704db6e039">EMCUTE_QOS_0</a> = 0x00, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa1d1a0a9e5c2bb971b223184145df81b6">EMCUTE_RETAIN</a> = 0x10, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fae5a9fea5267a61c43f6459d78f7ebeb4">EMCUTE_WILL</a> = 0x08, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa1c62af5d0c787788f6af229043510154">EMCUTE_CS</a> = 0x04, 
<br />
&#160;&#160;<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa908b7ff36471eb6b4a329d5555478617">EMCUTE_TIT_MASK</a> = 0x03, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa896ebc5fe26de32baf758addb691041e">EMCUTE_TIT_SHORT</a> = 0x02, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa9676b05fa315f15aec4c11ad6c870ec6">EMCUTE_TIT_PREDEF</a> = 0x01, 
<a class="el" href="group__net__emcute.html#gga421f1923368b3e67d5e38f7e1100884fa5306de7d29407472b4b23bf418a03c63">EMCUTE_TIT_NORMAL</a> = 0x00
<br />
 }<tr class="memdesc:ga421f1923368b3e67d5e38f7e1100884f"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT-SN flags.  <a href="group__net__emcute.html#ga421f1923368b3e67d5e38f7e1100884f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga421f1923368b3e67d5e38f7e1100884f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f2dfec7e99562dbe5d785467bb71bbb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="group__net__emcute.html#gga8f2dfec7e99562dbe5d785467bb71bbba95aeed8bcb15a1f08fb3f050e3191793">EMCUTE_OK</a> = 0, 
<a class="el" href="group__net__emcute.html#gga8f2dfec7e99562dbe5d785467bb71bbba70da8c44f37db6aa0e256d868a4081da">EMCUTE_NOGW</a> = -1, 
<a class="el" href="group__net__emcute.html#gga8f2dfec7e99562dbe5d785467bb71bbbaede811afc3900953113a522ea69d3f12">EMCUTE_REJECT</a> = -2, 
<a class="el" href="group__net__emcute.html#gga8f2dfec7e99562dbe5d785467bb71bbba7ec6ad1df431cfede0cdf4f4ef4b2de5">EMCUTE_OVERFLOW</a> = -3, 
<br />
&#160;&#160;<a class="el" href="group__net__emcute.html#gga8f2dfec7e99562dbe5d785467bb71bbba99e9140859f5a24c485215bc315cf2a4">EMCUTE_TIMEOUT</a> = -4, 
<a class="el" href="group__net__emcute.html#gga8f2dfec7e99562dbe5d785467bb71bbba75f18079da34863a8fb1bd7c74cf8a5b">EMCUTE_NOTSUP</a> = -5
<br />
 }<tr class="memdesc:ga8f2dfec7e99562dbe5d785467bb71bbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible emCute return values.  <a href="group__net__emcute.html#ga8f2dfec7e99562dbe5d785467bb71bbb">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga8f2dfec7e99562dbe5d785467bb71bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8ffc03d268fb7ae2af91ad748595cbe1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga8ffc03d268fb7ae2af91ad748595cbe1">emcute_con</a> (<a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *remote, bool clean, const char *will_topic, const void *will_msg, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> will_msg_len, unsigned flags)</td></tr>
<tr class="memdesc:ga8ffc03d268fb7ae2af91ad748595cbe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a given MQTT-SN gateway (CONNECT)  <a href="#ga8ffc03d268fb7ae2af91ad748595cbe1">More...</a><br /></td></tr>
<tr class="separator:ga8ffc03d268fb7ae2af91ad748595cbe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d83536ba505000348a021666b19a89d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga3d83536ba505000348a021666b19a89d">emcute_discon</a> (void)</td></tr>
<tr class="memdesc:ga3d83536ba505000348a021666b19a89d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect from the gateway we are currently connected to.  <a href="#ga3d83536ba505000348a021666b19a89d">More...</a><br /></td></tr>
<tr class="separator:ga3d83536ba505000348a021666b19a89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71cd8a206c51a495e6da204260fcc8df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga71cd8a206c51a495e6da204260fcc8df">emcute_reg</a> (<a class="el" href="structemcute__topic__t.html">emcute_topic_t</a> *topic)</td></tr>
<tr class="memdesc:ga71cd8a206c51a495e6da204260fcc8df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a topic ID for the given topic name from the gateway.  <a href="#ga71cd8a206c51a495e6da204260fcc8df">More...</a><br /></td></tr>
<tr class="separator:ga71cd8a206c51a495e6da204260fcc8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa159985e36dc900e429624448dd9322"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#gaaa159985e36dc900e429624448dd9322">emcute_pub</a> (<a class="el" href="structemcute__topic__t.html">emcute_topic_t</a> *topic, const void *buf, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len, unsigned flags)</td></tr>
<tr class="memdesc:gaaa159985e36dc900e429624448dd9322"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish data on the given topic.  <a href="#gaaa159985e36dc900e429624448dd9322">More...</a><br /></td></tr>
<tr class="separator:gaaa159985e36dc900e429624448dd9322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe2de429efc02c26aff44437dc9778d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#gabe2de429efc02c26aff44437dc9778d9">emcute_sub</a> (<a class="el" href="group__net__emcute.html#ga2b5dd23459016a5af4db3a57903cb163">emcute_sub_t</a> *sub, unsigned flags)</td></tr>
<tr class="memdesc:gabe2de429efc02c26aff44437dc9778d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to the given topic.  <a href="#gabe2de429efc02c26aff44437dc9778d9">More...</a><br /></td></tr>
<tr class="separator:gabe2de429efc02c26aff44437dc9778d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d79a8259cf39716746ea54973bc0f3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga6d79a8259cf39716746ea54973bc0f3e">emcute_unsub</a> (<a class="el" href="group__net__emcute.html#ga2b5dd23459016a5af4db3a57903cb163">emcute_sub_t</a> *sub)</td></tr>
<tr class="memdesc:ga6d79a8259cf39716746ea54973bc0f3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscripbe the given topic.  <a href="#ga6d79a8259cf39716746ea54973bc0f3e">More...</a><br /></td></tr>
<tr class="separator:ga6d79a8259cf39716746ea54973bc0f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga185d561d61f9b0ba802a0d12830bcf92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga185d561d61f9b0ba802a0d12830bcf92">emcute_willupd_topic</a> (const char *topic, unsigned flags)</td></tr>
<tr class="memdesc:ga185d561d61f9b0ba802a0d12830bcf92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the last will topic.  <a href="#ga185d561d61f9b0ba802a0d12830bcf92">More...</a><br /></td></tr>
<tr class="separator:ga185d561d61f9b0ba802a0d12830bcf92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51dbc5c588181799959e20d91e594791"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga51dbc5c588181799959e20d91e594791">emcute_willupd_msg</a> (const void *data, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:ga51dbc5c588181799959e20d91e594791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the last will message.  <a href="#ga51dbc5c588181799959e20d91e594791">More...</a><br /></td></tr>
<tr class="separator:ga51dbc5c588181799959e20d91e594791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade684fa9e16a1c16ed68c96d7a5c1e14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#gade684fa9e16a1c16ed68c96d7a5c1e14">emcute_run</a> (uint16_t port, const char *id)</td></tr>
<tr class="memdesc:gade684fa9e16a1c16ed68c96d7a5c1e14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run emCute, will 'occupy' the calling thread.  <a href="#gade684fa9e16a1c16ed68c96d7a5c1e14">More...</a><br /></td></tr>
<tr class="separator:gade684fa9e16a1c16ed68c96d7a5c1e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d47a49154b0b6977291e2444b4534e8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__emcute.html#ga7d47a49154b0b6977291e2444b4534e8">emcute_type_str</a> (uint8_t type)</td></tr>
<tr class="memdesc:ga7d47a49154b0b6977291e2444b4534e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the string representation of the given type value.  <a href="#ga7d47a49154b0b6977291e2444b4534e8">More...</a><br /></td></tr>
<tr class="separator:ga7d47a49154b0b6977291e2444b4534e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga8cd994a579b9384f55badc7049987d0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cd994a579b9384f55badc7049987d0a">&#9670;&nbsp;</a></span>EMCUTE_BUFSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCUTE_BUFSIZE&#160;&#160;&#160;(512U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer size used for emCute's transmit and receive buffers. </p>
<dl class="section note"><dt>Note</dt><dd>The buffer size MUST be less than 32768 on 16-bit and 8-bit platforms to prevent buffer overflows.</dd></dl>
<p>The overall buffer size used by emCute is this value time two (Rx + Tx). </p>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00114">114</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<a id="gaa9ab2e6642014583809b355616658452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9ab2e6642014583809b355616658452">&#9670;&nbsp;</a></span>EMCUTE_KEEPALIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCUTE_KEEPALIVE&#160;&#160;&#160;(360)       /* -&gt; 6 min*/</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keep-alive interval [in s]. </p>
<p>The node will communicate this interval to the gateway send a ping message every time when this amount of time has passed.</p>
<p>For the default value, see spec v1.2, section 7.2 -&gt; T_WAIT: &gt; 5 min </p>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00136">136</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<a id="ga038408cdae8c1dfc3aa7ca53f2536005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga038408cdae8c1dfc3aa7ca53f2536005">&#9670;&nbsp;</a></span>EMCUTE_N_RETRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCUTE_N_RETRY&#160;&#160;&#160;(3U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of retries when sending packets. </p>
<p>For the default value, see spec v1.2, section 7.2 -&gt; N_RETRY: 3-5 </p>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00154">154</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<a id="ga8700166604648250750030b3f9d1797a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8700166604648250750030b3f9d1797a">&#9670;&nbsp;</a></span>EMCUTE_T_RETRY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCUTE_T_RETRY&#160;&#160;&#160;(15U)       /* -&gt; 15 sec */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-send interval [in seconds]. </p>
<p>For the default value, see spec v1.2, section 7.2 -&gt; T_RETRY: 10 to 15 sec </p>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00145">145</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<a id="gaaf59c99da60307cb09b283d7f477f9fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf59c99da60307cb09b283d7f477f9fb">&#9670;&nbsp;</a></span>EMCUTE_TOPIC_MAXLEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMCUTE_TOPIC_MAXLEN&#160;&#160;&#160;(196U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum topic length. </p>
<dl class="section note"><dt>Note</dt><dd><b>Must</b> be less than (256 - 6) AND less than (<a class="el" href="group__net__emcute.html#ga8cd994a579b9384f55badc7049987d0a">EMCUTE_BUFSIZE</a> - 6). </dd></dl>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00124">124</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga8cb06b314ff2eda4230e9f0e33a07d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cb06b314ff2eda4230e9f0e33a07d8b">&#9670;&nbsp;</a></span>emcute_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* emcute_cb_t) (const <a class="el" href="structemcute__topic__t.html">emcute_topic_t</a> *topic, void *data, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signature for callbacks fired when publish messages are received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic</td><td>topic the received data was published on </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>published data, can be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of <code>data</code> in bytes </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00209">209</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga421f1923368b3e67d5e38f7e1100884f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga421f1923368b3e67d5e38f7e1100884f">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT-SN flags. </p>
<p>All MQTT-SN functions only support a sub-set of the available flags. It is up to the user to only supply valid/supported flags to a function. emCute will trigger assertion fails on the use of unsupported flags (if compiled with DEVELHELP).</p>
<p>Refer to the MQTT-SN spec section 5.3.4 for further information. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa2d2792878ec922129f7ade76c26f579c"></a>EMCUTE_DUP&#160;</td><td class="fielddoc"><p>duplicate flag </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa44fe26276d2d2b35915dfafd51e2f393"></a>EMCUTE_QOS_MASK&#160;</td><td class="fielddoc"><p>QoS level mask. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa2214f711551a2f089d26630acb3287d4"></a>EMCUTE_QOS_2&#160;</td><td class="fielddoc"><p>QoS level 2. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa2219d439602a4dbe1d0236ba522119d3"></a>EMCUTE_QOS_1&#160;</td><td class="fielddoc"><p>QoS level 1. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa4a2900a3a34d616f6b19fb704db6e039"></a>EMCUTE_QOS_0&#160;</td><td class="fielddoc"><p>QoS level 0. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa1d1a0a9e5c2bb971b223184145df81b6"></a>EMCUTE_RETAIN&#160;</td><td class="fielddoc"><p>retain flag </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fae5a9fea5267a61c43f6459d78f7ebeb4"></a>EMCUTE_WILL&#160;</td><td class="fielddoc"><p>will flag, used during CONNECT </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa1c62af5d0c787788f6af229043510154"></a>EMCUTE_CS&#160;</td><td class="fielddoc"><p>clean session flag </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa908b7ff36471eb6b4a329d5555478617"></a>EMCUTE_TIT_MASK&#160;</td><td class="fielddoc"><p>topic ID type mask </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa896ebc5fe26de32baf758addb691041e"></a>EMCUTE_TIT_SHORT&#160;</td><td class="fielddoc"><p>topic ID: short </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa9676b05fa315f15aec4c11ad6c870ec6"></a>EMCUTE_TIT_PREDEF&#160;</td><td class="fielddoc"><p>topic ID: pre-defined </p>
</td></tr>
<tr><td class="fieldname"><a id="gga421f1923368b3e67d5e38f7e1100884fa5306de7d29407472b4b23bf418a03c63"></a>EMCUTE_TIT_NORMAL&#160;</td><td class="fielddoc"><p>topic ID: normal </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00167">167</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<a id="ga8f2dfec7e99562dbe5d785467bb71bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f2dfec7e99562dbe5d785467bb71bbb">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible emCute return values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga8f2dfec7e99562dbe5d785467bb71bbba95aeed8bcb15a1f08fb3f050e3191793"></a>EMCUTE_OK&#160;</td><td class="fielddoc"><p>everything went as expect </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8f2dfec7e99562dbe5d785467bb71bbba70da8c44f37db6aa0e256d868a4081da"></a>EMCUTE_NOGW&#160;</td><td class="fielddoc"><p>error: not connected to a gateway </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8f2dfec7e99562dbe5d785467bb71bbbaede811afc3900953113a522ea69d3f12"></a>EMCUTE_REJECT&#160;</td><td class="fielddoc"><p>error: operation was rejected by broker </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8f2dfec7e99562dbe5d785467bb71bbba7ec6ad1df431cfede0cdf4f4ef4b2de5"></a>EMCUTE_OVERFLOW&#160;</td><td class="fielddoc"><p>error: ran out of buffer space </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8f2dfec7e99562dbe5d785467bb71bbba99e9140859f5a24c485215bc315cf2a4"></a>EMCUTE_TIMEOUT&#160;</td><td class="fielddoc"><p>error: timeout </p>
</td></tr>
<tr><td class="fieldname"><a id="gga8f2dfec7e99562dbe5d785467bb71bbba75f18079da34863a8fb1bd7c74cf8a5b"></a>EMCUTE_NOTSUP&#160;</td><td class="fielddoc"><p>error: feature not supported </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="emcute_8h_source.html#l00185">185</a> of file <a class="el" href="emcute_8h_source.html">emcute.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8ffc03d268fb7ae2af91ad748595cbe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ffc03d268fb7ae2af91ad748595cbe1">&#9670;&nbsp;</a></span>emcute_con()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_con </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td>
          <td class="paramname"><em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>will_topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>will_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>will_msg_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a given MQTT-SN gateway (CONNECT) </p>
<p>When called while already connected to a gateway, call <a class="el" href="group__net__emcute.html#ga3d83536ba505000348a021666b19a89d" title="Disconnect from the gateway we are currently connected to. ">emcute_discon()</a> first to disconnect from the current gateway.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">remote</td><td>address and port of the target MQTT-SN gateway </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clean</td><td>set to true to start a clean session </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">will_topic</td><td>last will topic name, no last will will be configured if set to NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">will_msg</td><td>last will message content, will be ignored if <code>will_topic</code> is set to NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">will_msg_len</td><td>length of <code>will_msg</code> in byte </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags used for the last will, allowed are retain and QoS</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if already connected to a gateway </dd>
<dd>
EMCUTE_REJECT on connection refused by gateway </dd>
<dd>
EMCUTE_TIMEOUT on connection timeout </dd></dl>

</div>
</div>
<a id="ga3d83536ba505000348a021666b19a89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d83536ba505000348a021666b19a89d">&#9670;&nbsp;</a></span>emcute_discon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_discon </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect from the gateway we are currently connected to. </p>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_GW if not connected to a gateway </dd>
<dd>
EMCUTE_TIMEOUT on response timeout </dd></dl>

</div>
</div>
<a id="gaaa159985e36dc900e429624448dd9322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa159985e36dc900e429624448dd9322">&#9670;&nbsp;</a></span>emcute_pub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_pub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structemcute__topic__t.html">emcute_topic_t</a> *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish data on the given topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic</td><td>topic to send data to, topic <b>must</b> be registered (topic.id <b>must</b> populated). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>data to publish </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of <code>data</code> in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags used for publication, allowed are QoS and retain</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if not connected to a gateway </dd>
<dd>
EMCUTE_REJECT if publish message was rejected (QoS &gt; 0 only) </dd>
<dd>
EMCUTE_OVERFLOW if length of data exceeds <a class="el" href="group__net__emcute.html#ga8cd994a579b9384f55badc7049987d0a">EMCUTE_BUFSIZE</a> </dd>
<dd>
EMCUTE_TIMEOUT on connection timeout (QoS &gt; 0 only) </dd>
<dd>
EMCUTE_NOTSUP on unsupported flag values </dd></dl>

</div>
</div>
<a id="ga71cd8a206c51a495e6da204260fcc8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga71cd8a206c51a495e6da204260fcc8df">&#9670;&nbsp;</a></span>emcute_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_reg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structemcute__topic__t.html">emcute_topic_t</a> *&#160;</td>
          <td class="paramname"><em>topic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a topic ID for the given topic name from the gateway. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">topic</td><td>topic to register, topic.name <b>must not</b> be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if not connected to a gateway </dd>
<dd>
EMCUTE_OVERFLOW if length of topic name exceeds <a class="el" href="group__net__emcute.html#gaaf59c99da60307cb09b283d7f477f9fb">EMCUTE_TOPIC_MAXLEN</a> </dd>
<dd>
EMCUTE_TIMEOUT on connection timeout </dd></dl>

</div>
</div>
<a id="gade684fa9e16a1c16ed68c96d7a5c1e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade684fa9e16a1c16ed68c96d7a5c1e14">&#9670;&nbsp;</a></span>emcute_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emcute_run </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run emCute, will 'occupy' the calling thread. </p>
<p>This function will run the emCute message receiver. It will block the thread it is running in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>UDP port used for listening (default: 1883) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>client ID (should be unique) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gabe2de429efc02c26aff44437dc9778d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe2de429efc02c26aff44437dc9778d9">&#9670;&nbsp;</a></span>emcute_sub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="structemcute__sub.html">emcute_sub</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__emcute.html#ga2b5dd23459016a5af4db3a57903cb163">emcute_sub_t</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to the given topic. </p>
<p>When calling this function, <code>sub-&gt;topic.name</code> and <code>sub-&gt;cb</code> <b>must</b> be set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sub</td><td>subscription context, <code>sub-&gt;topic.name</code> and <code>sub-&gt;cb</code> <b>must</b> not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags used when subscribing, allowed are QoS, DUP, and topic ID type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if not connected to a gateway </dd>
<dd>
EMCUTE_OVERFLOW if length of topic name exceeds <a class="el" href="group__net__emcute.html#gaaf59c99da60307cb09b283d7f477f9fb">EMCUTE_TOPIC_MAXLEN</a> </dd>
<dd>
EMCUTE_TIMEOUT on connection timeout </dd></dl>

</div>
</div>
<a id="ga7d47a49154b0b6977291e2444b4534e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d47a49154b0b6977291e2444b4534e8">&#9670;&nbsp;</a></span>emcute_type_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* emcute_type_str </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the string representation of the given type value. </p>
<p>This function is for debugging purposes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>MQTT-SN message type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string representation of the given type </dd>
<dd>
'UNKNOWN' on invalid type value </dd></dl>

</div>
</div>
<a id="ga6d79a8259cf39716746ea54973bc0f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d79a8259cf39716746ea54973bc0f3e">&#9670;&nbsp;</a></span>emcute_unsub()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_unsub </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__emcute.html#ga2b5dd23459016a5af4db3a57903cb163">emcute_sub_t</a> *&#160;</td>
          <td class="paramname"><em>sub</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscripbe the given topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub</td><td>subscription context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if not connected to a gateway </dd>
<dd>
EMCUTE_TIMEOUT on connection timeout </dd></dl>

</div>
</div>
<a id="ga51dbc5c588181799959e20d91e594791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51dbc5c588181799959e20d91e594791">&#9670;&nbsp;</a></span>emcute_willupd_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_willupd_msg </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the last will message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>new message to send on last will </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of <code>data</code> in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if not connected to a gateway </dd>
<dd>
EMCUTE_OVERFLOW if length of the given message exceeds <a class="el" href="group__net__emcute.html#ga8cd994a579b9384f55badc7049987d0a">EMCUTE_BUFSIZE</a> </dd>
<dd>
EMCUTE_REJECT on rejection by the gateway </dd>
<dd>
EMCUTE_TIMEOUT on response timeout </dd></dl>

</div>
</div>
<a id="ga185d561d61f9b0ba802a0d12830bcf92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga185d561d61f9b0ba802a0d12830bcf92">&#9670;&nbsp;</a></span>emcute_willupd_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int emcute_willupd_topic </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the last will topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">topic</td><td>new last will topic </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags used for the topic, allowed are QoS and retain</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EMCUTE_OK on success </dd>
<dd>
EMCUTE_NOGW if not connected to a gateway </dd>
<dd>
EMCUTE_OVERFLOW if length of topic name exceeds <a class="el" href="group__net__emcute.html#gaaf59c99da60307cb09b283d7f477f9fb">EMCUTE_TOPIC_MAXLEN</a> </dd>
<dd>
EMCUTE_REJECT on rejection by the gateway </dd>
<dd>
EMCUTE_TIMEOUT on response timeout </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Wed Jul 1 2020 17:09:00 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
