<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bloom filter</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
                        displaySR();
                    }finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              var r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;
                              var x=document.getElementById('MSearchResults');
                              if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                              var f=document.getElementById('riot-searchform');
                              if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sys__bloom.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bloom filter<div class="ingroups"><a class="el" href="group__sys.html">System</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Bloom filter library.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bloom filter library. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:bloom_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bloom_8h.html">bloom.h</a></td></tr>
<tr class="memdesc:bloom_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bloom filter API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbloom__t.html">bloom_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object ">bloom_t</a> bloom filter object  <a href="structbloom__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga299356589fd5d4be2f686ce3462a5ece"><td class="memItemLeft" align="right" valign="top"><a id="ga299356589fd5d4be2f686ce3462a5ece"></a>
typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#ga299356589fd5d4be2f686ce3462a5ece">hashfp_t</a>) (const uint8_t *, int len)</td></tr>
<tr class="memdesc:ga299356589fd5d4be2f686ce3462a5ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">hash function to use in thee filter <br /></td></tr>
<tr class="separator:ga299356589fd5d4be2f686ce3462a5ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gaa240402a4f0f8b18821d49d6b23b9b0e">bloom_init</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> size, uint8_t *bitfield, <a class="el" href="group__sys__bloom.html#ga299356589fd5d4be2f686ce3462a5ece">hashfp_t</a> *hashes, int hashes_numof)</td></tr>
<tr class="memdesc:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a Bloom Filter.  <a href="#gaa240402a4f0f8b18821d49d6b23b9b0e">More...</a><br /></td></tr>
<tr class="separator:gaa240402a4f0f8b18821d49d6b23b9b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab23483bd4edf858615ffb42d1994d493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gab23483bd4edf858615ffb42d1994d493">bloom_del</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom)</td></tr>
<tr class="memdesc:gab23483bd4edf858615ffb42d1994d493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a Bloom filter.  <a href="#gab23483bd4edf858615ffb42d1994d493">More...</a><br /></td></tr>
<tr class="separator:gab23483bd4edf858615ffb42d1994d493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gad1287feebd8f35ab4aabf7a458ac4a2f">bloom_add</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a string to a Bloom filter.  <a href="#gad1287feebd8f35ab4aabf7a458ac4a2f">More...</a><br /></td></tr>
<tr class="separator:gad1287feebd8f35ab4aabf7a458ac4a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sys__bloom.html#gaccab5d24940adcc3fe16c6c5c8b8c313">bloom_check</a> (<a class="el" href="structbloom__t.html">bloom_t</a> *bloom, const uint8_t *buf, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a string is in the Bloom filter.  <a href="#gaccab5d24940adcc3fe16c6c5c8b8c313">More...</a><br /></td></tr>
<tr class="separator:gaccab5d24940adcc3fe16c6c5c8b8c313"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad1287feebd8f35ab4aabf7a458ac4a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1287feebd8f35ab4aabf7a458ac4a2f">&#9670;&nbsp;</a></span>bloom_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a string to a Bloom filter. </p>
<p>CAVEAT Once a string has been added to the filter, it cannot be "removed"!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to add </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="gaccab5d24940adcc3fe16c6c5c8b8c313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaccab5d24940adcc3fe16c6c5c8b8c313">&#9670;&nbsp;</a></span>bloom_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool bloom_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a string is in the Bloom filter. </p>
<p>The string 's' is hashed once for each of the 'k' hash functions, as though we were planning to add it to the filter. Instead of adding it however, we examine the bit that we <em>would</em> have set, and consider its value.</p>
<p>If the bit is 1 (set), the string we are hashing may be in the filter, since it would have set this bit when it was originally hashed. However, it may also be that another string just happened to produce a hash value that would also set this bit. That would be a false positive. This is why we have k &gt; 1, so we can minimize the likelihood of false positives occurring.</p>
<p>If every bit corresponding to every one of the k hashes of our query string is set, we can say with some probability of being correct that the string we are holding is indeed "in" the filter. However, we can never be sure.</p>
<p>If, however, as we hash our string and peek at the resulting bit in the filter, we find the bit is 0 (not set)... well now, that's different. In this case, we can say with absolute certainty that the string we are holding is <em>not</em> in the filter, because if it were, this bit would have to be set.</p>
<p>In this way, the Bloom filter can answer NO with absolute surety, but can only speak a qualified YES.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>Bloom filter </td></tr>
    <tr><td class="paramname">buf</td><td>string to check </td></tr>
    <tr><td class="paramname">len</td><td>the length of the string <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if string does not exist in the filter </dd>
<dd>
true if string is may be in the filter </dd></dl>

</div>
</div>
<a id="gab23483bd4edf858615ffb42d1994d493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab23483bd4edf858615ffb42d1994d493">&#9670;&nbsp;</a></span>bloom_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a Bloom filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td>The condemned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nothing </dd></dl>

</div>
</div>
<a id="gaa240402a4f0f8b18821d49d6b23b9b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa240402a4f0f8b18821d49d6b23b9b0e">&#9670;&nbsp;</a></span>bloom_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bloom_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbloom__t.html">bloom_t</a> *&#160;</td>
          <td class="paramname"><em>bloom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bitfield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__sys__bloom.html#ga299356589fd5d4be2f686ce3462a5ece">hashfp_t</a> *&#160;</td>
          <td class="paramname"><em>hashes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hashes_numof</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a Bloom Filter. </p>
<dl class="section note"><dt>Note</dt><dd>For best results, make 'size' a power of 2.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bloom</td><td><a class="el" href="structbloom__t.html" title="bloom_t bloom filter object ">bloom_t</a> to initialize </td></tr>
    <tr><td class="paramname">size</td><td>size of the bloom filter in bits </td></tr>
    <tr><td class="paramname">bitfield</td><td>underlying bitfield of the bloom filter </td></tr>
    <tr><td class="paramname">hashes</td><td>array of hashes </td></tr>
    <tr><td class="paramname">hashes_numof</td><td>number of elements in hashes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>bitfield</code> MUST be large enough to hold <code>size</code> bits. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Fri Jul 3 2020 13:27:55 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
