<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>usbdev - USB Device Driver API</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
                        var rhtml=document.getElementById('MSearchResults').contentWindow.document.body.innerHTML;
                        document.getElementById('MSearchResultsWindow').style.display='none';
                        document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
                        document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
                        document.getElementById('doc-content').innerHTML=rhtml;
                        }finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__drivers__periph__usbdev.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">usbdev - USB Device Driver API<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__periph.html">Peripheral Driver Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This is a generic low-level USB driver interface.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This is a generic low-level USB driver interface. </p>
<h1>About</h1>
<p>usbdev specifies a common USB device API for low level USB interfaces. The interface is split in a definition for the USB interface hardware and for individual USB endpoints.</p>
<h1>Design goals</h1>
<ol type="1">
<li>Support for multiple instances on a single board</li>
<li>Interface optimized for MCU peripheral interfaces.</li>
</ol>
<h1>Details</h1>
<p>The driver interface is split in two separate parts. One part is a global USB device interface, the other is an endpoint control API.</p>
<p>The usb device driver can manage parts of the USB interface itself such as the pull up resistor state or the USB speed.</p>
<p>The endpoint control API manages a single endpoint. This allows for a modular approach where multiple USB functions/interfaces can be multiplexed over a single USB interface. Each interface can be implemented as a separate module. The interface handler does not have to care about the usb device itself or it's endpoint number. It can simply request an available endpoint from the usb device with the <a class="el" href="group__drivers__periph__usbdev.html#gab96f51d327986e811cd2dab1747dfa6d">usbdev_new_ep</a> function.</p>
<p>Data transmission is done by requesting the endpoint with a max packet size. Memory for this buffer is allocated from dedicated memory of the MCU USB peripheral or from a buffer allocated by the peripheral specific usbdev struct. Received data from the host ends up at this buffer automatically by the low level drivers. Signalling that the data at the specified address is ready to be reused is done with the <a class="el" href="group__drivers__periph__usbdev.html#ga1830567b0f159e56d497f773f7016a69">usbdev_ep_ready</a> function by supplying a size of 0 for the <code>len</code> argument.</p>
<p>For transmitting data back to the host, a similar approach is used. The data to be transmitted is written to the specified address and the <a class="el" href="group__drivers__periph__usbdev.html#ga1830567b0f159e56d497f773f7016a69">usbdev_ep_ready</a> function is called with the size of the data as <code>len</code> argument.</p>
<p>This approach of setting the address and only indicating new data available is done to allow the low level USB peripheral to use DMA to transfer the data from and to the MCU memory.</p>
<p>A callback function is required for signalling events from the driver. The <a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a313d8d0c5416f13435bad11fa11044ea">USBDEV_EVENT_ESR</a> is special in that it indicates that the USB peripheral had an interrupt that needs to be serviced in a non-interrupt context. This requires the usbdev_esr function to be called. In the case that the event is signalled via the <a class="el" href="structusbdev.html#aa47cde5e01fb132a8a8d51cda19ce323">usbdev_t::epcb</a> callback, the <a class="el" href="group__drivers__periph__usbdev.html#gad821d143df01e72083341c6535ff4a61">usbdev_ep_esr</a> should be called to service the endpoint specific events from the peripheral. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:usbdev_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usbdev_8h.html">usbdev.h</a></td></tr>
<tr class="memdesc:usbdev_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions low-level USB driver interface. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusbdev.html">usbdev</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">usbdev device descriptor  <a href="structusbdev.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusbdev__ep.html">usbdev_ep</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">usbdev endpoint descriptor  <a href="structusbdev__ep.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusbdev__driver.html">usbdev_driver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">usbdev driver functions  <a href="structusbdev__driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga62700e0adccac783b55c6d4ccdfda84f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga62700e0adccac783b55c6d4ccdfda84f">USBDEV_EP_BUF_SPACE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:ga62700e0adccac783b55c6d4ccdfda84f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statically allocated buffer space for endpoints.  <a href="#ga62700e0adccac783b55c6d4ccdfda84f">More...</a><br /></td></tr>
<tr class="separator:ga62700e0adccac783b55c6d4ccdfda84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga359f875644f47ca8bb6844b5b5a0c90e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga359f875644f47ca8bb6844b5b5a0c90e">USBDEV_NUM_ENDPOINTS</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga359f875644f47ca8bb6844b5b5a0c90e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of USB IN and OUT endpoints allocated.  <a href="#ga359f875644f47ca8bb6844b5b5a0c90e">More...</a><br /></td></tr>
<tr class="separator:ga359f875644f47ca8bb6844b5b5a0c90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa82d08eb9deca939f11869d69c65e63e"><td class="memItemLeft" align="right" valign="top"><a id="gaa82d08eb9deca939f11869d69c65e63e"></a>
typedef struct <a class="el" href="structusbdev.html">usbdev</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a></td></tr>
<tr class="memdesc:gaa82d08eb9deca939f11869d69c65e63e"><td class="mdescLeft">&#160;</td><td class="mdescRight">usbdev_t forward declaration <br /></td></tr>
<tr class="separator:gaa82d08eb9deca939f11869d69c65e63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45fb2233696b039b8fb4f5264a5f4e5f"><td class="memItemLeft" align="right" valign="top"><a id="ga45fb2233696b039b8fb4f5264a5f4e5f"></a>
typedef struct <a class="el" href="structusbdev__ep.html">usbdev_ep</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a></td></tr>
<tr class="memdesc:ga45fb2233696b039b8fb4f5264a5f4e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">usbdev_ep_t forward declaration <br /></td></tr>
<tr class="separator:ga45fb2233696b039b8fb4f5264a5f4e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa812e5b620e20f44199e2d11d3fa52d8"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gaa812e5b620e20f44199e2d11d3fa52d8">usbdev_event_cb_t</a>) (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *<a class="el" href="structusbdev.html">usbdev</a>, <a class="el" href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">usbdev_event_t</a> <a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:gaa812e5b620e20f44199e2d11d3fa52d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event callback for signaling usbdev event to upper layers.  <a href="#gaa812e5b620e20f44199e2d11d3fa52d8">More...</a><br /></td></tr>
<tr class="separator:gaa812e5b620e20f44199e2d11d3fa52d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa334cadaee714011b991f0e865463826"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gaa334cadaee714011b991f0e865463826">usbdev_ep_event_cb_t</a>) (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep, <a class="el" href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">usbdev_event_t</a> <a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:gaa334cadaee714011b991f0e865463826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event callback for signaling endpoint events to upper layers.  <a href="#gaa334cadaee714011b991f0e865463826">More...</a><br /></td></tr>
<tr class="separator:gaa334cadaee714011b991f0e865463826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e9368db01bf949d04fc39caa84dd852"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structusbdev__driver.html">usbdev_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga0e9368db01bf949d04fc39caa84dd852">usbdev_driver_t</a></td></tr>
<tr class="memdesc:ga0e9368db01bf949d04fc39caa84dd852"><td class="mdescLeft">&#160;</td><td class="mdescRight">usbdev driver functions  <a href="#ga0e9368db01bf949d04fc39caa84dd852">More...</a><br /></td></tr>
<tr class="separator:ga0e9368db01bf949d04fc39caa84dd852"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5289b0187db76ea19e4af527df0ac303"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">usbdev_event_t</a> { <br />
&#160;&#160;<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a313d8d0c5416f13435bad11fa11044ea">USBDEV_EVENT_ESR</a> = 1, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a9040d978453c2fa71780217261f0df48">USBDEV_EVENT_HOST_CONNECT</a>, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a3ddfcf7cc04f0c774bd3448d4230ebea">USBDEV_EVENT_HOST_DISCONNECT</a>, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303ab3564097bba42e5fa0844c3db9a52094">USBDEV_EVENT_RESET</a>, 
<br />
&#160;&#160;<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303aed7c01d6c12915de2e8b7e83df62b3ee">USBDEV_EVENT_SOF</a>, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a02c02c5f2f3f65123e2d23aa8e8b7e5e">USBDEV_EVENT_SUSPEND</a>, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a75f71f541feecf699cf374cfdc949ffa">USBDEV_EVENT_RESUME</a>, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303aa8a2823c836df5b29e895f739983e135">USBDEV_EVENT_TR_COMPLETE</a>, 
<br />
&#160;&#160;<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a29bc129350e7e3e7d1446a68245390b9">USBDEV_EVENT_TR_STALL</a>, 
<a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a9a7ea03b2c114810c0252f5ce81a9043">USBDEV_EVENT_TR_FAIL</a>
<br />
 }<tr class="memdesc:ga5289b0187db76ea19e4af527df0ac303"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of event types that can be send from the device driver to the upper layer.  <a href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga5289b0187db76ea19e4af527df0ac303"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga124dc4fde43e3a5df575e812ef64cd77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga124dc4fde43e3a5df575e812ef64cd77">usbdev_init_lowlevel</a> (void)</td></tr>
<tr class="memdesc:ga124dc4fde43e3a5df575e812ef64cd77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level USB peripheral driver initialization.  <a href="#ga124dc4fde43e3a5df575e812ef64cd77">More...</a><br /></td></tr>
<tr class="separator:ga124dc4fde43e3a5df575e812ef64cd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffc49c44029f396b653d92f3e34a8844"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gaffc49c44029f396b653d92f3e34a8844">usbdev_get_ctx</a> (unsigned num)</td></tr>
<tr class="memdesc:gaffc49c44029f396b653d92f3e34a8844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve usbdev context from the peripheral.  <a href="#gaffc49c44029f396b653d92f3e34a8844">More...</a><br /></td></tr>
<tr class="separator:gaffc49c44029f396b653d92f3e34a8844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga260c295ffa120cf569e39a7a4dc12005"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga260c295ffa120cf569e39a7a4dc12005">usbdev_init</a> (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *dev)</td></tr>
<tr class="memdesc:ga260c295ffa120cf569e39a7a4dc12005"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the USB peripheral device.  <a href="#ga260c295ffa120cf569e39a7a4dc12005">More...</a><br /></td></tr>
<tr class="separator:ga260c295ffa120cf569e39a7a4dc12005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab96f51d327986e811cd2dab1747dfa6d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gab96f51d327986e811cd2dab1747dfa6d">usbdev_new_ep</a> (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *dev, <a class="el" href="group__usb.html#ga23fe3d087b4533eabd8cff2e3371716f">usb_ep_type_t</a> type, <a class="el" href="group__usb.html#ga1f43c18c4881219e5578ade7dec43afe">usb_ep_dir_t</a> dir, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> buf_len)</td></tr>
<tr class="memdesc:gab96f51d327986e811cd2dab1747dfa6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an USB endpoint of the specified type.  <a href="#gab96f51d327986e811cd2dab1747dfa6d">More...</a><br /></td></tr>
<tr class="separator:gab96f51d327986e811cd2dab1747dfa6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e23af642929245db1707f7b286287f5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga8e23af642929245db1707f7b286287f5">usbdev_get</a> (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *dev, <a class="el" href="group__usb__usbopt.html#ga17a44d2fafdcc150af3c3d4ec04fb7f7">usbopt_t</a> opt, void *value, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> max_len)</td></tr>
<tr class="memdesc:ga8e23af642929245db1707f7b286287f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an option value from a given usb device.  <a href="#ga8e23af642929245db1707f7b286287f5">More...</a><br /></td></tr>
<tr class="separator:ga8e23af642929245db1707f7b286287f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8396006a939075981570f3ae2c1838c7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga8396006a939075981570f3ae2c1838c7">usbdev_set</a> (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *dev, <a class="el" href="group__usb__usbopt.html#ga17a44d2fafdcc150af3c3d4ec04fb7f7">usbopt_t</a> opt, const void *value, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> value_len)</td></tr>
<tr class="memdesc:ga8396006a939075981570f3ae2c1838c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an option value for a given usb device.  <a href="#ga8396006a939075981570f3ae2c1838c7">More...</a><br /></td></tr>
<tr class="separator:ga8396006a939075981570f3ae2c1838c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa64c46e69d1b52819557746593295f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gaaa64c46e69d1b52819557746593295f5">usbdev_esr</a> (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *dev)</td></tr>
<tr class="memdesc:gaaa64c46e69d1b52819557746593295f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">a driver's user-space event service handler  <a href="#gaaa64c46e69d1b52819557746593295f5">More...</a><br /></td></tr>
<tr class="separator:gaaa64c46e69d1b52819557746593295f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga810591db7402afeba70bc93bce6e4bff"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga810591db7402afeba70bc93bce6e4bff">usbdev_ep_init</a> (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep)</td></tr>
<tr class="memdesc:ga810591db7402afeba70bc93bce6e4bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the USB endpoint.  <a href="#ga810591db7402afeba70bc93bce6e4bff">More...</a><br /></td></tr>
<tr class="separator:ga810591db7402afeba70bc93bce6e4bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55e6689a8b22eed3bf73e14eb5726ab1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga55e6689a8b22eed3bf73e14eb5726ab1">usbdev_ep_get</a> (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep, <a class="el" href="group__usb__usbopt.html#gaa4ab17169bd97bfcce86f3b3fd6d2670">usbopt_ep_t</a> opt, void *value, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> max_len)</td></tr>
<tr class="memdesc:ga55e6689a8b22eed3bf73e14eb5726ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an option value from a given usb device endpoint.  <a href="#ga55e6689a8b22eed3bf73e14eb5726ab1">More...</a><br /></td></tr>
<tr class="separator:ga55e6689a8b22eed3bf73e14eb5726ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga142457c68754b4fcea2cd8faef2422d3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga142457c68754b4fcea2cd8faef2422d3">usbdev_ep_set</a> (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep, <a class="el" href="group__usb__usbopt.html#gaa4ab17169bd97bfcce86f3b3fd6d2670">usbopt_ep_t</a> opt, const void *value, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> value_len)</td></tr>
<tr class="memdesc:ga142457c68754b4fcea2cd8faef2422d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an option value for a given usb device endpoint.  <a href="#ga142457c68754b4fcea2cd8faef2422d3">More...</a><br /></td></tr>
<tr class="separator:ga142457c68754b4fcea2cd8faef2422d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad821d143df01e72083341c6535ff4a61"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#gad821d143df01e72083341c6535ff4a61">usbdev_ep_esr</a> (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep)</td></tr>
<tr class="memdesc:gad821d143df01e72083341c6535ff4a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">an endpoint's user-space event handler  <a href="#gad821d143df01e72083341c6535ff4a61">More...</a><br /></td></tr>
<tr class="separator:gad821d143df01e72083341c6535ff4a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1830567b0f159e56d497f773f7016a69"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__periph__usbdev.html#ga1830567b0f159e56d497f773f7016a69">usbdev_ep_ready</a> (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:ga1830567b0f159e56d497f773f7016a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal data buffer ready for data transmission.  <a href="#ga1830567b0f159e56d497f773f7016a69">More...</a><br /></td></tr>
<tr class="separator:ga1830567b0f159e56d497f773f7016a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga62700e0adccac783b55c6d4ccdfda84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62700e0adccac783b55c6d4ccdfda84f">&#9670;&nbsp;</a></span>USBDEV_EP_BUF_SPACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDEV_EP_BUF_SPACE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Statically allocated buffer space for endpoints. </p>
<p>When the device doesn't have dedicated memory for endpoint buffers, a buffer of this size is allocated to contain the endpoint buffers. Only needs to be as big as the total buffer space required by all endpoints </p>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00103">103</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga359f875644f47ca8bb6844b5b5a0c90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga359f875644f47ca8bb6844b5b5a0c90e">&#9670;&nbsp;</a></span>USBDEV_NUM_ENDPOINTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USBDEV_NUM_ENDPOINTS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of USB IN and OUT endpoints allocated. </p>
<p>Configures the number of endpoints allocated. An equal number of IN and OUT endpoints are allocated </p>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00113">113</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga0e9368db01bf949d04fc39caa84dd852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e9368db01bf949d04fc39caa84dd852">&#9670;&nbsp;</a></span>usbdev_driver_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structusbdev__driver.html">usbdev_driver</a>  <a class="el" href="group__drivers__periph__usbdev.html#ga0e9368db01bf949d04fc39caa84dd852">usbdev_driver_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>usbdev driver functions </p>
<p>Helpers (such as <a class="el" href="group__drivers__periph__usbdev.html#ga260c295ffa120cf569e39a7a4dc12005">usbdev_init</a>) are provided and should be used instead. Directly calling these functions is not recommended. </p>

</div>
</div>
<a id="gaa334cadaee714011b991f0e865463826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa334cadaee714011b991f0e865463826">&#9670;&nbsp;</a></span>usbdev_ep_event_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* usbdev_ep_event_cb_t) (<a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *ep, <a class="el" href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">usbdev_event_t</a> <a class="el" href="structevent.html">event</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event callback for signaling endpoint events to upper layers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>usbdev endpoint context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>type of the event </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00211">211</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="gaa812e5b620e20f44199e2d11d3fa52d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa812e5b620e20f44199e2d11d3fa52d8">&#9670;&nbsp;</a></span>usbdev_event_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* usbdev_event_cb_t) (<a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *<a class="el" href="structusbdev.html">usbdev</a>, <a class="el" href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">usbdev_event_t</a> <a class="el" href="structevent.html">event</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event callback for signaling usbdev event to upper layers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usbdev</td><td>usbdev context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>type of the event </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00203">203</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5289b0187db76ea19e4af527df0ac303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5289b0187db76ea19e4af527df0ac303">&#9670;&nbsp;</a></span>usbdev_event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__periph__usbdev.html#ga5289b0187db76ea19e4af527df0ac303">usbdev_event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of event types that can be send from the device driver to the upper layer. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a313d8d0c5416f13435bad11fa11044ea"></a>USBDEV_EVENT_ESR&#160;</td><td class="fielddoc"><p>Driver needs it's ESR (event service routine) handled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a9040d978453c2fa71780217261f0df48"></a>USBDEV_EVENT_HOST_CONNECT&#160;</td><td class="fielddoc"><p>Host connection detected. </p>
<p>A host has connected to the device. Detection should happen by detecting the USB power, but other detection mechanisms might be used. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a3ddfcf7cc04f0c774bd3448d4230ebea"></a>USBDEV_EVENT_HOST_DISCONNECT&#160;</td><td class="fielddoc"><p>Host disconnected from the device. </p>
<p>Similar to <a class="el" href="group__drivers__periph__usbdev.html#gga5289b0187db76ea19e4af527df0ac303a9040d978453c2fa71780217261f0df48">USBDEV_EVENT_HOST_CONNECT</a>, except that the host disconnected instead. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303ab3564097bba42e5fa0844c3db9a52094"></a>USBDEV_EVENT_RESET&#160;</td><td class="fielddoc"><p>Line reset occurred. </p>
<p>A line reset is a host initiated USB reset to the peripheral</p>
<p>The peripheral driver must clears the following settings before emitting this event:</p><ul>
<li>Device address</li>
<li>Endpoint configuration, including stall settings </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303aed7c01d6c12915de2e8b7e83df62b3ee"></a>USBDEV_EVENT_SOF&#160;</td><td class="fielddoc"><p>Start of Frame received. </p>
<p>A Start of Frame (SoF) packet is received from the host. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a02c02c5f2f3f65123e2d23aa8e8b7e5e"></a>USBDEV_EVENT_SUSPEND&#160;</td><td class="fielddoc"><p>USB suspend condition active. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a75f71f541feecf699cf374cfdc949ffa"></a>USBDEV_EVENT_RESUME&#160;</td><td class="fielddoc"><p>USB suspend condition no longer active. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303aa8a2823c836df5b29e895f739983e135"></a>USBDEV_EVENT_TR_COMPLETE&#160;</td><td class="fielddoc"><p>Transaction completed event. </p>
<p>An endpoint must emit this event after a transaction with the host occurred to indicate that the data in the buffer is used or new depending on the endpoint direction </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a29bc129350e7e3e7d1446a68245390b9"></a>USBDEV_EVENT_TR_STALL&#160;</td><td class="fielddoc"><p>Transaction stall event. </p>
<p>An endpoint should emit this event after a stall reply has been transmitted to the host </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5289b0187db76ea19e4af527df0ac303a9a7ea03b2c114810c0252f5ce81a9043"></a>USBDEV_EVENT_TR_FAIL&#160;</td><td class="fielddoc"><p>Transaction fail event. </p>
<p>An endpoint should emit this event after a nack reply to the host. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00120">120</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad821d143df01e72083341c6535ff4a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad821d143df01e72083341c6535ff4a61">&#9670;&nbsp;</a></span>usbdev_ep_esr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usbdev_ep_esr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>an endpoint's user-space event handler </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a780ca2e7ee99cb801579018a4c9a9b69">usbdev_driver_t::ep_esr</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(ep != NULL)</code> </dd>
<dd>
<code>(ep-&gt;dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>USB endpoint descriptor to service </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00555">555</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga55e6689a8b22eed3bf73e14eb5726ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55e6689a8b22eed3bf73e14eb5726ab1">&#9670;&nbsp;</a></span>usbdev_ep_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usbdev_ep_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__usbopt.html#gaa4ab17169bd97bfcce86f3b3fd6d2670">usbopt_ep_t</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an option value from a given usb device endpoint. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#aef6127227785be2b30d1e47f99e5fadb">usbdev_driver_t::ep_get</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(ep != NULL)</code> </dd>
<dd>
<code>(ep-&gt;dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>USB endpoint descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option type </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>pointer to store the option's value in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>maximum number of byte that fit into <code>value</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to <code>value</code> </dd>
<dd>
<code>&lt; 0</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00513">513</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga810591db7402afeba70bc93bce6e4bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga810591db7402afeba70bc93bce6e4bff">&#9670;&nbsp;</a></span>usbdev_ep_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usbdev_ep_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *&#160;</td>
          <td class="paramname"><em>ep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the USB endpoint. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a2cdec4d79c23c3d6724abd226fbcd209">usbdev_driver_t::ep_init</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(ep != NULL)</code> </dd>
<dd>
<code>(ep-&gt;dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>USB endpoint descriptor </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00490">490</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga1830567b0f159e56d497f773f7016a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1830567b0f159e56d497f773f7016a69">&#9670;&nbsp;</a></span>usbdev_ep_ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usbdev_ep_ready </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal data buffer ready for data transmission. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#adc3326800e982ab0195cb740badedeed">usbdev_driver_t::ready</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(ep != NULL)</code> </dd>
<dd>
<code>(ep-&gt;dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>USB endpoint descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of the data to be transmitted </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00573">573</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga142457c68754b4fcea2cd8faef2422d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga142457c68754b4fcea2cd8faef2422d3">&#9670;&nbsp;</a></span>usbdev_ep_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usbdev_ep_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a> *&#160;</td>
          <td class="paramname"><em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__usbopt.html#gaa4ab17169bd97bfcce86f3b3fd6d2670">usbopt_ep_t</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>value_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an option value for a given usb device endpoint. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a1ba19aef54325125d7ac4f3c0d46613e">usbdev_driver_t::ep_set</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(ep != NULL)</code> </dd>
<dd>
<code>(ep-&gt;dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>USB endpoint descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>pointer to the value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>the length of <code>value</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes used from <code>value</code> </dd>
<dd>
<code>&lt; 0</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00537">537</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="gaaa64c46e69d1b52819557746593295f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa64c46e69d1b52819557746593295f5">&#9670;&nbsp;</a></span>usbdev_esr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usbdev_esr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>a driver's user-space event service handler </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a52b73ecb862cb4c17d753db8601890be">usbdev_driver_t::esr</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>USB device descriptor </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00474">474</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga8e23af642929245db1707f7b286287f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e23af642929245db1707f7b286287f5">&#9670;&nbsp;</a></span>usbdev_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usbdev_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__usbopt.html#ga17a44d2fafdcc150af3c3d4ec04fb7f7">usbopt_t</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>max_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an option value from a given usb device. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#afde43bc7a644b2c87a69fe2c9ce05121">usbdev_driver_t::get</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>USB device descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option type </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">value</td><td>pointer to store the option's value in </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_len</td><td>maximal amount of byte that fit into <code>value</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to <code>value</code> </dd>
<dd>
<code>&lt; 0</code> on error 0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00436">436</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="gaffc49c44029f396b653d92f3e34a8844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffc49c44029f396b653d92f3e34a8844">&#9670;&nbsp;</a></span>usbdev_get_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a>* usbdev_get_ctx </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve usbdev context from the peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>usbdev peripheral number to retrieve</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the usbdev context at index <code>num</code> </dd></dl>

</div>
</div>
<a id="ga260c295ffa120cf569e39a7a4dc12005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga260c295ffa120cf569e39a7a4dc12005">&#9670;&nbsp;</a></span>usbdev_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usbdev_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the USB peripheral device. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a527b9c2080156c1cb315fa2a7c69fabf">usbdev_driver_t::init</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>usb device to initialize </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00393">393</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga124dc4fde43e3a5df575e812ef64cd77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga124dc4fde43e3a5df575e812ef64cd77">&#9670;&nbsp;</a></span>usbdev_init_lowlevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usbdev_init_lowlevel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level USB peripheral driver initialization. </p>
<p>This function prepares all usbdev peripherals available for initialization </p>

</div>
</div>
<a id="gab96f51d327986e811cd2dab1747dfa6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab96f51d327986e811cd2dab1747dfa6d">&#9670;&nbsp;</a></span>usbdev_new_ep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__drivers__periph__usbdev.html#ga45fb2233696b039b8fb4f5264a5f4e5f">usbdev_ep_t</a>* usbdev_new_ep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb.html#ga23fe3d087b4533eabd8cff2e3371716f">usb_ep_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb.html#ga1f43c18c4881219e5578ade7dec43afe">usb_ep_dir_t</a>&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve an USB endpoint of the specified type. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a0bbea9d4b89fcd3c4bcfae737f8a77c5">usbdev_driver_t::new_ep</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>USB device descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>USB endpoint type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>USB endpoint direction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_len</td><td>optimal USB endpoint buffer size</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ptr to the new USB endpoint descriptor </dd>
<dd>
NULL on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00414">414</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
<a id="ga8396006a939075981570f3ae2c1838c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8396006a939075981570f3ae2c1838c7">&#9670;&nbsp;</a></span>usbdev_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usbdev_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__drivers__periph__usbdev.html#gaa82d08eb9deca939f11869d69c65e63e">usbdev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__usbopt.html#ga17a44d2fafdcc150af3c3d4ec04fb7f7">usbopt_t</a>&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>value_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an option value for a given usb device. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structusbdev__driver.html#a1a24f7454a0218dc69d455d9fa0d2db5">usbdev_driver_t::set</a></dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>(dev != NULL)</code></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>USB device descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>value to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value_len</td><td>the length of <code>value</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes used from <code>value</code> </dd>
<dd>
<code>&lt; 0</code> on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="usbdev_8h_source.html#l00458">458</a> of file <a class="el" href="usbdev_8h_source.html">usbdev.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Wed Jul 1 2020 17:08:59 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
