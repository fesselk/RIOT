<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>pkg/lua/include/lua_run.h File Reference</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
    var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replaceAll('href=\"../','href=\"');
    document.getElementById('MSearchResultsWindow').style.display='none';
    document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
    document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
    document.getElementById('doc-content').innerHTML=rhtml;
}finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              var r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;
                              var x=document.getElementById('MSearchResults');
                              if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                              var f=document.getElementById('riot-searchform');
                              if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lua__run_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">lua_run.h File Reference<div class="ingroups"><a class="el" href="group__pkg.html">Packages</a> &raquo; <a class="el" href="group__pkg__lua.html">Lua ported to RIOT</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Convenience functions for running Lua code.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Convenience functions for running Lua code. </p>
<dl class="section author"><dt>Author</dt><dd>Juan Carrano <a href="#" onclick="location.href='mai'+'lto:'+'j.c'+'ar'+'ran'+'o@'+'fu-'+'be'+'rli'+'n.'+'de'; return false;">j.car<span style="display: none;">.nosp@m.</span>rano<span style="display: none;">.nosp@m.</span>@fu-b<span style="display: none;">.nosp@m.</span>erli<span style="display: none;">.nosp@m.</span>n.de</a></dd></dl>
<p>This functions make it easy to create and use new Lua context: It provides:</p>
<ul>
<li>Easy to use routines for executing modules as scrips.</li>
<li>Control over which modules get loaded.</li>
<li>Support for using a local heap allocator.</li>
<li>Out of memory handling via setjmp/longjmp.</li>
</ul>
<p>This library is not strictly required, as all of the functionality could be implemented in terms of the public lua api, but it covers most of the use cases, and thus avoids code repetition in applications. </p>

<p class="definition">Definition in file <a class="el" href="lua__run_8h_source.html">lua_run.h</a>.</p>
</div><div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;lua.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for lua_run.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="lua__run_8h__incl.svg" width="152" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="lua__run_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="memitem:ad57db0af7678fd4d6f2c76ac935f8892"><td class="memItemLeft" align="right" valign="top"><a id="ad57db0af7678fd4d6f2c76ac935f8892"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(n)&#160;&#160;&#160;(((uint16_t)1) &lt;&lt; (n))</td></tr>
<tr class="memdesc:ad57db0af7678fd4d6f2c76ac935f8892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a library index into a bit mask. <br /></td></tr>
<tr class="separator:ad57db0af7678fd4d6f2c76ac935f8892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c2ef406e14729f03de9c23e04d135c"><td class="memItemLeft" align="right" valign="top"><a id="aa6c2ef406e14729f03de9c23e04d135c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#aa6c2ef406e14729f03de9c23e04d135c">LUAR_LOAD_BASE</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_BASE)</td></tr>
<tr class="memdesc:aa6c2ef406e14729f03de9c23e04d135c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the base globals (_G) <br /></td></tr>
<tr class="separator:aa6c2ef406e14729f03de9c23e04d135c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5e2722162e44f70718cd05da83feb9"><td class="memItemLeft" align="right" valign="top"><a id="a9b5e2722162e44f70718cd05da83feb9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a9b5e2722162e44f70718cd05da83feb9">LUAR_LOAD_PACKAGE</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_PACKAGE)</td></tr>
<tr class="memdesc:a9b5e2722162e44f70718cd05da83feb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´package´ <br /></td></tr>
<tr class="separator:a9b5e2722162e44f70718cd05da83feb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672d7906edb6917c9493f11403817e8a"><td class="memItemLeft" align="right" valign="top"><a id="a672d7906edb6917c9493f11403817e8a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a672d7906edb6917c9493f11403817e8a">LUAR_LOAD_CORO</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_CORO)</td></tr>
<tr class="memdesc:a672d7906edb6917c9493f11403817e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´coroutine´ <br /></td></tr>
<tr class="separator:a672d7906edb6917c9493f11403817e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0501d7a91ef714ba8b20a3cd48794a40"><td class="memItemLeft" align="right" valign="top"><a id="a0501d7a91ef714ba8b20a3cd48794a40"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a0501d7a91ef714ba8b20a3cd48794a40">LUAR_LOAD_TABLE</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_TABLE)</td></tr>
<tr class="memdesc:a0501d7a91ef714ba8b20a3cd48794a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´table´ <br /></td></tr>
<tr class="separator:a0501d7a91ef714ba8b20a3cd48794a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905e0aa8b671f2d323836e489be03d1c"><td class="memItemLeft" align="right" valign="top"><a id="a905e0aa8b671f2d323836e489be03d1c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a905e0aa8b671f2d323836e489be03d1c">LUAR_LOAD_IO</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_IO)</td></tr>
<tr class="memdesc:a905e0aa8b671f2d323836e489be03d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´io´ <br /></td></tr>
<tr class="separator:a905e0aa8b671f2d323836e489be03d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fd995c6833e2ae842d9d2fca14eeb1"><td class="memItemLeft" align="right" valign="top"><a id="a50fd995c6833e2ae842d9d2fca14eeb1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a50fd995c6833e2ae842d9d2fca14eeb1">LUAR_LOAD_OS</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_OS)</td></tr>
<tr class="memdesc:a50fd995c6833e2ae842d9d2fca14eeb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´os´ <br /></td></tr>
<tr class="separator:a50fd995c6833e2ae842d9d2fca14eeb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479aceb832e5007420dcae54cd0bc267"><td class="memItemLeft" align="right" valign="top"><a id="a479aceb832e5007420dcae54cd0bc267"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a479aceb832e5007420dcae54cd0bc267">LUAR_LOAD_STRING</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_STRING)</td></tr>
<tr class="memdesc:a479aceb832e5007420dcae54cd0bc267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´string´ <br /></td></tr>
<tr class="separator:a479aceb832e5007420dcae54cd0bc267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1433afe0d8c387b5e559bfe37204d92a"><td class="memItemLeft" align="right" valign="top"><a id="a1433afe0d8c387b5e559bfe37204d92a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a1433afe0d8c387b5e559bfe37204d92a">LUAR_LOAD_MATH</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_MATH)</td></tr>
<tr class="memdesc:a1433afe0d8c387b5e559bfe37204d92a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´math´ <br /></td></tr>
<tr class="separator:a1433afe0d8c387b5e559bfe37204d92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a43c128ac417c6f576ad45717029276"><td class="memItemLeft" align="right" valign="top"><a id="a5a43c128ac417c6f576ad45717029276"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a5a43c128ac417c6f576ad45717029276">LUAR_LOAD_UTF8</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_UTF8)</td></tr>
<tr class="memdesc:a5a43c128ac417c6f576ad45717029276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´utf8´ <br /></td></tr>
<tr class="separator:a5a43c128ac417c6f576ad45717029276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e31d62b81f2db9d6cae53383d48516"><td class="memItemLeft" align="right" valign="top"><a id="a94e31d62b81f2db9d6cae53383d48516"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a94e31d62b81f2db9d6cae53383d48516">LUAR_LOAD_DEBUG</a>&#160;&#160;&#160;<a class="el" href="lua__run_8h.html#ad57db0af7678fd4d6f2c76ac935f8892">LUAR_LOAD_FLAG</a>(LUAR_LOAD_O_DEBUG)</td></tr>
<tr class="memdesc:a94e31d62b81f2db9d6cae53383d48516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load ´debug´ <br /></td></tr>
<tr class="separator:a94e31d62b81f2db9d6cae53383d48516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ea001d99b8e39ea538e2782b8d00fac"><td class="memItemLeft" align="right" valign="top"><a id="a9ea001d99b8e39ea538e2782b8d00fac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LUAR_LOAD_ALL</b>&#160;&#160;&#160;(0xFFFF)               /** Load all standard modules */</td></tr>
<tr class="separator:a9ea001d99b8e39ea538e2782b8d00fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f54a08190aee2935ef450b0d5d3b1b6"><td class="memItemLeft" align="right" valign="top"><a id="a4f54a08190aee2935ef450b0d5d3b1b6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LUAR_LOAD_NONE</b>&#160;&#160;&#160;(0x0000)               /** Do not load any modules */</td></tr>
<tr class="separator:a4f54a08190aee2935ef450b0d5d3b1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544b6302babfb0d16c8e8ec74599f8cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a544b6302babfb0d16c8e8ec74599f8cd">lua_riot_close</a>&#160;&#160;&#160;lua_close</td></tr>
<tr class="memdesc:a544b6302babfb0d16c8e8ec74599f8cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate the lua state.  <a href="#a544b6302babfb0d16c8e8ec74599f8cd">More...</a><br /></td></tr>
<tr class="separator:a544b6302babfb0d16c8e8ec74599f8cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c59b8e63278cce820224f3bc8b2da5"><td class="memItemLeft" align="right" valign="top"><a id="a64c59b8e63278cce820224f3bc8b2da5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a64c59b8e63278cce820224f3bc8b2da5">LUAR_LOAD_ORDER</a> { <br />
&#160;&#160;<b>LUAR_LOAD_O_BASE</b>, 
<b>LUAR_LOAD_O_PACKAGE</b>, 
<b>LUAR_LOAD_O_CORO</b>, 
<b>LUAR_LOAD_O_TABLE</b>, 
<br />
&#160;&#160;<b>LUAR_LOAD_O_IO</b>, 
<b>LUAR_LOAD_O_OS</b>, 
<b>LUAR_LOAD_O_STRING</b>, 
<b>LUAR_LOAD_O_MATH</b>, 
<br />
&#160;&#160;<b>LUAR_LOAD_O_UTF8</b>, 
<b>LUAR_LOAD_O_DEBUG</b>, 
<b>LUAR_LOAD_O_ALL</b>
<br />
 }<tr class="memdesc:a64c59b8e63278cce820224f3bc8b2da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Order in which the builtin libraries are loaded. <br /></td></tr>
</td></tr>
<tr class="separator:a64c59b8e63278cce820224f3bc8b2da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296f7662878f19b263b7c26c21b68cf6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6">LUAR_ERRORS</a> { <br />
&#160;&#160;<b>LUAR_EXIT</b>, 
<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6af98f5e935ee92125588f58e6436260af">LUAR_STARTUP_ERR</a>, 
<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6ab30b688092dc15dfecb066df4c4b8ef2">LUAR_LOAD_ERR</a>, 
<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6a1926d9a8eedb7822ee1c6165e339691c">LUAR_NOMODULE</a>, 
<br />
&#160;&#160;<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6a622ccae5ef45700f1a09f4065585b860">LUAR_COMPILE_ERR</a>, 
<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6a4dee4500fdeb0b404e9e5bd606a62bc5">LUAR_RUNTIME_ERR</a>, 
<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6a0d9085038fd6e1a9d6d3d9cddab65bc4">LUAR_MEMORY_ERR</a>, 
<a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6a348b79e46bae62b5d53cc4234ba63c96">LUAR_INTERNAL_ERR</a>
<br />
 }<tr class="memdesc:a296f7662878f19b263b7c26c21b68cf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Errors that can be raised when running lua code.  <a href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a296f7662878f19b263b7c26c21b68cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6013575497c1fa658376a4e5ef8be44"><td class="memItemLeft" align="right" valign="top"><a id="af6013575497c1fa658376a4e5ef8be44"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#af6013575497c1fa658376a4e5ef8be44">lua_riot_str_errors</a> []</td></tr>
<tr class="memdesc:af6013575497c1fa658376a4e5ef8be44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Human-readable description of the errors. <br /></td></tr>
<tr class="separator:af6013575497c1fa658376a4e5ef8be44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b4442fa379b946a60adadf3a531ab0"><td class="memItemLeft" align="right" valign="top">LUALIB_API const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#af9b4442fa379b946a60adadf3a531ab0">lua_riot_strerror</a> (int errn)</td></tr>
<tr class="memdesc:af9b4442fa379b946a60adadf3a531ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string describing an error from LUAR_ERRORS.  <a href="#af9b4442fa379b946a60adadf3a531ab0">More...</a><br /></td></tr>
<tr class="separator:af9b4442fa379b946a60adadf3a531ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a23a22a064ea267c51ae715f899cd15"><td class="memItemLeft" align="right" valign="top">LUALIB_API lua_State *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15">lua_riot_newstate</a> (void *memory, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> mem_size, lua_CFunction panicf)</td></tr>
<tr class="memdesc:a0a23a22a064ea267c51ae715f899cd15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a lua state and set the panic handler.  <a href="#a0a23a22a064ea267c51ae715f899cd15">More...</a><br /></td></tr>
<tr class="separator:a0a23a22a064ea267c51ae715f899cd15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7741afd0ccf1b036efa3c4badc0137a"><td class="memItemLeft" align="right" valign="top">LUALIB_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#ac7741afd0ccf1b036efa3c4badc0137a">lua_riot_openlibs</a> (lua_State *L, uint16_t modmask)</td></tr>
<tr class="memdesc:ac7741afd0ccf1b036efa3c4badc0137a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open builtin libraries.  <a href="#ac7741afd0ccf1b036efa3c4badc0137a">More...</a><br /></td></tr>
<tr class="separator:ac7741afd0ccf1b036efa3c4badc0137a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acebf773ea344a2c18ad3bdfca0cccd36"><td class="memItemLeft" align="right" valign="top">LUALIB_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#acebf773ea344a2c18ad3bdfca0cccd36">lua_riot_do_module</a> (const char *modname, void *memory, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> mem_size, uint16_t modmask, int *retval)</td></tr>
<tr class="memdesc:acebf773ea344a2c18ad3bdfca0cccd36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the interpreter and run a built-in module in protected mode.  <a href="#acebf773ea344a2c18ad3bdfca0cccd36">More...</a><br /></td></tr>
<tr class="separator:acebf773ea344a2c18ad3bdfca0cccd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e40235e7a20671c8c9e20a66ab3e48"><td class="memItemLeft" align="right" valign="top">LUALIB_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lua__run_8h.html#a94e40235e7a20671c8c9e20a66ab3e48">lua_riot_do_buffer</a> (const uint8_t *buf, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> buflen, void *memory, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> mem_size, uint16_t modmask, int *retval)</td></tr>
<tr class="memdesc:a94e40235e7a20671c8c9e20a66ab3e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the interpreter and run a user supplied buffer in protected mode.  <a href="#a94e40235e7a20671c8c9e20a66ab3e48">More...</a><br /></td></tr>
<tr class="separator:a94e40235e7a20671c8c9e20a66ab3e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a544b6302babfb0d16c8e8ec74599f8cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a544b6302babfb0d16c8e8ec74599f8cd">&#9670;&nbsp;</a></span>lua_riot_close</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define lua_riot_close&#160;&#160;&#160;lua_close</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate the lua state. </p>
<p>You must call this function if you want the finalizers (the __gc metamethods) to be called. </p>

<p class="definition">Definition at line <a class="el" href="lua__run_8h_source.html#l00147">147</a> of file <a class="el" href="lua__run_8h_source.html">lua_run.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a296f7662878f19b263b7c26c21b68cf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296f7662878f19b263b7c26c21b68cf6">&#9670;&nbsp;</a></span>LUAR_ERRORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6">LUAR_ERRORS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Errors that can be raised when running lua code. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6af98f5e935ee92125588f58e6436260af"></a>LUAR_STARTUP_ERR&#160;</td><td class="fielddoc"><p>The program exited without error. </p>
</td></tr>
<tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6ab30b688092dc15dfecb066df4c4b8ef2"></a>LUAR_LOAD_ERR&#160;</td><td class="fielddoc"><p>Error setting up the interpreter. </p>
</td></tr>
<tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6a1926d9a8eedb7822ee1c6165e339691c"></a>LUAR_NOMODULE&#160;</td><td class="fielddoc"><p>Error while loading libraries. </p>
</td></tr>
<tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6a622ccae5ef45700f1a09f4065585b860"></a>LUAR_COMPILE_ERR&#160;</td><td class="fielddoc"><p>The specified module could not be found. </p>
</td></tr>
<tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6a4dee4500fdeb0b404e9e5bd606a62bc5"></a>LUAR_RUNTIME_ERR&#160;</td><td class="fielddoc"><p>The Lua code failed to compile. </p>
</td></tr>
<tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6a0d9085038fd6e1a9d6d3d9cddab65bc4"></a>LUAR_MEMORY_ERR&#160;</td><td class="fielddoc"><p>Error in code execution. </p>
</td></tr>
<tr><td class="fieldname"><a id="a296f7662878f19b263b7c26c21b68cf6a348b79e46bae62b5d53cc4234ba63c96"></a>LUAR_INTERNAL_ERR&#160;</td><td class="fielddoc"><p>Lua could not allocate enough memory. </p>
<p>Error inside the Lua VM. Right now, if this happens, you may leak memory from the heap. If your program is the only one using the dynamic allocation, just clean the heap. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="lua__run_8h_source.html#l00091">91</a> of file <a class="el" href="lua__run_8h_source.html">lua_run.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a94e40235e7a20671c8c9e20a66ab3e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e40235e7a20671c8c9e20a66ab3e48">&#9670;&nbsp;</a></span>lua_riot_do_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LUALIB_API int lua_riot_do_buffer </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>mem_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>modmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the interpreter and run a user supplied buffer in protected mode. </p>
<p>Only text data (i.e. lua source code) can be loaded by this function. The lua interpreter is not robust against corrupt binary code.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#acebf773ea344a2c18ad3bdfca0cccd36" title="Initialize the interpreter and run a built-in module in protected mode. ">lua_riot_do_module()</a> for more information on internal errors.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Text data (lua source code). </td></tr>
    <tr><td class="paramname">buflen</td><td>Size of the text data in bytes. If buf is a zero-terminated string, the zero must not be counted. </td></tr>
    <tr><td class="paramname">memory</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15" title="Initialize a lua state and set the panic handler. ">lua_riot_newstate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem_size</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15" title="Initialize a lua state and set the panic handler. ">lua_riot_newstate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modmask</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15" title="Initialize a lua state and set the panic handler. ">lua_riot_newstate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">retval</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#acebf773ea344a2c18ad3bdfca0cccd36" title="Initialize the interpreter and run a built-in module in protected mode. ">lua_riot_do_module()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#acebf773ea344a2c18ad3bdfca0cccd36" title="Initialize the interpreter and run a built-in module in protected mode. ">lua_riot_do_module()</a>. </dd></dl>

</div>
</div>
<a id="acebf773ea344a2c18ad3bdfca0cccd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acebf773ea344a2c18ad3bdfca0cccd36">&#9670;&nbsp;</a></span>lua_riot_do_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LUALIB_API int lua_riot_do_module </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>modname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>mem_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>modmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>retval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the interpreter and run a built-in module in protected mode. </p>
<p>In addition to running code in protected mode, this also sets a panic function that long-jumps back to this function, in case there is an internal interpreter error (LUAR_INTERNAL_ERR). Right now the only things that the application can are either to abort(), or to manually reset the heap (only if there's no other thread using it).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modname</td><td>name of the module. </td></tr>
    <tr><td class="paramname">memory</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15" title="Initialize a lua state and set the panic handler. ">lua_riot_newstate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem_size</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15" title="Initialize a lua state and set the panic handler. ">lua_riot_newstate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">modmask</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a0a23a22a064ea267c51ae715f899cd15" title="Initialize a lua state and set the panic handler. ">lua_riot_newstate()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">retval</td><td>Value returned by the lua code, if it is a number, or zero if no value is returned or the value is not a number. If retval is null, the value is not stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code ( </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="lua__run_8h.html#a296f7662878f19b263b7c26c21b68cf6" title="Errors that can be raised when running lua code. ">LUAR_ERRORS</a>). LUAR_EXIT indicates no error. </dd></dl>

</div>
</div>
<a id="a0a23a22a064ea267c51ae715f899cd15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a23a22a064ea267c51ae715f899cd15">&#9670;&nbsp;</a></span>lua_riot_newstate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LUALIB_API lua_State* lua_riot_newstate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>mem_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lua_CFunction&#160;</td>
          <td class="paramname"><em>panicf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a lua state and set the panic handler. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000035">Todo:</a></b></dt><dd>Use a per-state allocator</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memory</td><td>Pointer to memory region that will be used as heap for the allocator. Currently this functionality is not supported and this must be set to NULL. </td></tr>
    <tr><td class="paramname">mem_size</td><td>Size of the memory region that will be used as heap. Currently this functionality is not supported and this must be set to 0. </td></tr>
    <tr><td class="paramname">panicf</td><td>Function to be passed to lua_atpanic. If set to NULL, a generic function that does nothing will be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new state, or NULL if there is a memory allocation error. </dd></dl>

</div>
</div>
<a id="ac7741afd0ccf1b036efa3c4badc0137a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7741afd0ccf1b036efa3c4badc0137a">&#9670;&nbsp;</a></span>lua_riot_openlibs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LUALIB_API int lua_riot_openlibs </td>
          <td>(</td>
          <td class="paramtype">lua_State *&#160;</td>
          <td class="paramname"><em>L</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>modmask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open builtin libraries. </p>
<p>This is like luaL_openlibs but it allows selecting which libraries will be loaded.</p>
<p>Libraries are loaded in the order specified by the LUAR_LOAD_ORDER enum. If there is an error the load sequence is aborted and the index of the library that failed is reported.</p>
<p>If debugging is enabled (compile with the LUA_DEBUG macro), then the test library will be unconditionally loaded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">L</td><td>Lua state </td></tr>
    <tr><td class="paramname">modmask</td><td>Binary mask that indicates which modules should be loaded. The mask is made from a combination of the LUAR_LOAD_* macros.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The index of the library that failed to load, or LUAR_LOAD_O_ALL if all libraries were loaded. </dd></dl>

</div>
</div>
<a id="af9b4442fa379b946a60adadf3a531ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b4442fa379b946a60adadf3a531ab0">&#9670;&nbsp;</a></span>lua_riot_strerror()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LUALIB_API const char* lua_riot_strerror </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a string describing an error from LUAR_ERRORS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errn</td><td>Error number as returned by <a class="el" href="lua__run_8h.html#a94e40235e7a20671c8c9e20a66ab3e48" title="Initialize the interpreter and run a user supplied buffer in protected mode. ">lua_riot_do_buffer()</a> or <a class="el" href="lua__run_8h.html#a94e40235e7a20671c8c9e20a66ab3e48" title="Initialize the interpreter and run a user supplied buffer in protected mode. ">lua_riot_do_buffer()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string describing the error, or "Unknown error". </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Thu Jul 2 2020 17:48:21 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
