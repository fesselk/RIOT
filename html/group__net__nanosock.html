<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Nanocoap Sock</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
    var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replaceAll('href=\"../','href=\"');
    document.getElementById('MSearchResultsWindow').style.display='none';
    document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
    document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
    document.getElementById('doc-content').innerHTML=rhtml;
}finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              var r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;
                              var x=document.getElementById('MSearchResults');
                              if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                              var f=document.getElementById('riot-searchform');
                              if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__net__nanosock.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Nanocoap Sock<div class="ingroups"><a class="el" href="group__net.html">Networking</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Synchronous sock based messaging with nanocoap.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Synchronous sock based messaging with nanocoap. </p>
<p>nanocoap sock uses the nanocoap CoAP library to provide a synchronous interface to RIOT's sock networking API to read and write CoAP messages. For a server, nanocoap sock accepts a list of resource paths with callbacks for writing the response. For a client, nanocoap sock provides a function to send a request and waits for the server response. nanocoap sock uses nanocoap's Buffer API to write message options.</p>
<h2>Server Operation</h2>
<p>See the nanocoap_server example, which is built on the <a class="el" href="group__net__nanosock.html#gaa8dc99f3f6c9b49ce8a4da7f15260766" title="Start a nanocoap server instance. ">nanocoap_server()</a> function. A server must define an array of <a class="el" href="structcoap__resource__t.html" title="Type for CoAP resource entry. ">coap_resource_t</a> resources for which it responds. See the declarations of <code>coap_resources</code> and <code>coap_resources_numof</code>. The array contents must be ordered by the resource path, specifically the ASCII encoding of the path characters (digit and capital precede lower case). Also see <em>Server path matching</em> in the base <a href="group__net__nanocoap.html">nanocoap</a> documentation.</p>
<p>nanocoap itself provides the COAP_WELL_KNOWN_CORE_DEFAULT_HANDLER entry for <code>/.well-known/core</code>.</p>
<h3>Handler functions</h3>
<p>For each resource, you must implement a <a class="el" href="group__net__nanocoap.html#ga687f23858a4a5036b60aedee24fb6b90" title="Resource handler type. ">coap_handler_t</a> handler function. nanocoap provides functions to help implement the handler. If the handler is called via <a class="el" href="group__net__nanosock.html#gaa8dc99f3f6c9b49ce8a4da7f15260766" title="Start a nanocoap server instance. ">nanocoap_server()</a>, the response buffer provided to the handler reuses the buffer for the request. So, your handler must read the request thoroughly before writing the response.</p>
<p>To read the request, use the functions in the <em>Header</em> and <em>Options Read</em> sections of the <a href="group__net__nanocoap.html">nanocoap</a> documentation. If the pkt <em>payload_len</em> attribute is a positive value, start to read it at the <em>payload</em> pointer attribute.</p>
<p>If a response does not require specific CoAP options, use <a class="el" href="group__net__nanocoap.html#ga8c3dc9ffebf2dd089a1d742499aca152" title="Create CoAP reply (convenience function) ">coap_reply_simple()</a>. If there is a payload, it writes a Content-Format option with the provided value.</p>
<p>For a response with additional CoAP options, start by calling <a class="el" href="group__net__nanocoap.html#ga38b2f76446070e80183a13e6b33d7cff" title="Build reply to CoAP request. ">coap_build_reply()</a>. Then use the Buffer API to write the rest of the response. See the instructions in the section <em>Write Options and Payload</em> below.</p>
<h2>Client Operation</h2>
<p>Follow the instructions in the section <em>Write Options and Payload</em> below.</p>
<p>To send the message and await the response, see <a class="el" href="group__net__nanosock.html#gacefba54fd9fb4f5da88dc01c14ad1e21" title="Simple synchronous CoAP request. ">nanocoap_request()</a> as well as <a class="el" href="group__net__nanosock.html#ga2aa130779abeb912b51e30b33c8890fb" title="Simple synchronous CoAP (confirmable) get. ">nanocoap_get()</a>, which additionally copies the response payload to a user supplied buffer. Finally, read the response as described above in the server <em>Handler functions</em> section for reading a request.</p>
<h2>Write Options and Payload</h2>
<p>For both server responses and client requests, CoAP uses an Option mechanism to encode message metadata that is not required for each message. For example, the resource URI path is required only for a request, and is encoded as the Uri-Path option.</p>
<p>nanocoap sock uses the nanocoap Buffer API for options. The caller must provide the last option number written as well as the buffer position. The caller is primarily responsible for tracking and managing the space remaining in the buffer.</p>
<p>Before starting, ensure the CoAP header has been initialized with <a class="el" href="group__net__nanocoap.html#gaa9e0691b6d3d3eb63c63fd13c5dd3820" title="Builds a CoAP header. ">coap_build_hdr()</a>. For a response, <a class="el" href="group__net__nanocoap.html#ga38b2f76446070e80183a13e6b33d7cff" title="Build reply to CoAP request. ">coap_build_reply()</a> includes a call to <a class="el" href="group__net__nanocoap.html#gaa9e0691b6d3d3eb63c63fd13c5dd3820" title="Builds a CoAP header. ">coap_build_hdr()</a>. Use the returned length to track the next position in the buffer to write and remaining length.</p>
<p>Next, use the functions in the <em>Options Write Buffer API</em> section of <a href="group__net__nanocoap.html">nanocoap</a> to write each option. These functions require the position in the buffer to start writing, and return the number of bytes written. Options <em>must</em> be written in order by option number (see "CoAP option numbers" in <a href="group__net__coap.html">CoAP defines</a>).</p>
<dl class="section note"><dt>Note</dt><dd>You must ensure the buffer has enough space remaining to write each option. The API does not verify the safety of writing an option.</dd></dl>
<p>If there is a payload, append a payload marker (0xFF). Then write the payload to within the maximum length remaining in the buffer.</p>
<h1>Create a Block-wise Response (Block2)</h1>
<p>Block-wise is a CoAP extension (RFC 7959) to divide a large payload across multiple physical packets. This section describes how to write a block-wise payload for a response, and is known as Block2. (Block1 is for a block-wise payload in a request.) See _riot_board_handler() in the nanocoap_server example for an example handler implementation.</p>
<p>Start with <a class="el" href="group__net__nanocoap.html#ga847153f464dc80f7f015d3ccbceb71c4" title="Initialize a block2 slicer struct for writing the payload. ">coap_block2_init()</a> to read the client request and initialize a coap_slicer_t struct with the size and location for this slice of the overall payload. Then write the block2 option in the response with <a class="el" href="group__net__nanocoap.html#ga5bfad86a61eb99c3727ae624c6e2594f" title="Insert block2 option into buffer. ">coap_opt_put_block2()</a>. The option includes an indicator ("more") that a slice completes the overall payload transfer. You may not know the value for <em>more</em> at this point, but you must initialize the space in the packet for the option before writing the payload. The option is rewritten later.</p>
<p>Next, use the coap_blockwise_put_xxx() functions to write the payload content. These functions use the <a class="el" href="structcoap__block__slicer__t.html" title="Blockwise transfer helper struct. ">coap_block_slicer_t</a> to enable or disable actually writing the content, depending on the current position within the overall payload transfer.</p>
<p>Finally, use the convenience function <a class="el" href="group__net__nanocoap.html#ga6ae8281567032734a24ef7739f65c2b4" title="Build reply to CoAP block2 request. ">coap_block2_build_reply()</a>, which finalizes the packet and calls <a class="el" href="group__net__nanocoap.html#gaf49dabd8f794e01ee318f74dfb01956b" title="Finish a block2 response. ">coap_block2_finish()</a> internally to update the block2 option. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:nanocoap__sock_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nanocoap__sock_8h.html">nanocoap_sock.h</a></td></tr>
<tr class="memdesc:nanocoap__sock_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">nanocoap high-level API <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa8dc99f3f6c9b49ce8a4da7f15260766"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanosock.html#gaa8dc99f3f6c9b49ce8a4da7f15260766">nanocoap_server</a> (<a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *local, uint8_t *buf, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> bufsize)</td></tr>
<tr class="memdesc:gaa8dc99f3f6c9b49ce8a4da7f15260766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a nanocoap server instance.  <a href="#gaa8dc99f3f6c9b49ce8a4da7f15260766">More...</a><br /></td></tr>
<tr class="separator:gaa8dc99f3f6c9b49ce8a4da7f15260766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2aa130779abeb912b51e30b33c8890fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="msp430__types_8h.html#af02a2e09430a9ed80bedb598467ce8d1">ssize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanosock.html#ga2aa130779abeb912b51e30b33c8890fb">nanocoap_get</a> (<a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *remote, const char *path, uint8_t *buf, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:ga2aa130779abeb912b51e30b33c8890fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple synchronous CoAP (confirmable) get.  <a href="#ga2aa130779abeb912b51e30b33c8890fb">More...</a><br /></td></tr>
<tr class="separator:ga2aa130779abeb912b51e30b33c8890fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacefba54fd9fb4f5da88dc01c14ad1e21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="msp430__types_8h.html#af02a2e09430a9ed80bedb598467ce8d1">ssize_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__nanosock.html#gacefba54fd9fb4f5da88dc01c14ad1e21">nanocoap_request</a> (<a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *pkt, <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *local, <a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *remote, <a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a> len)</td></tr>
<tr class="memdesc:gacefba54fd9fb4f5da88dc01c14ad1e21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple synchronous CoAP request.  <a href="#gacefba54fd9fb4f5da88dc01c14ad1e21">More...</a><br /></td></tr>
<tr class="separator:gacefba54fd9fb4f5da88dc01c14ad1e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2aa130779abeb912b51e30b33c8890fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2aa130779abeb912b51e30b33c8890fb">&#9670;&nbsp;</a></span>nanocoap_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="msp430__types_8h.html#af02a2e09430a9ed80bedb598467ce8d1">ssize_t</a> nanocoap_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td>
          <td class="paramname"><em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple synchronous CoAP (confirmable) get. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">remote</td><td>remote UDP endpoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>remote path </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to write response to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of <code>buffer</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of response payload on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
<a id="gacefba54fd9fb4f5da88dc01c14ad1e21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacefba54fd9fb4f5da88dc01c14ad1e21">&#9670;&nbsp;</a></span>nanocoap_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="msp430__types_8h.html#af02a2e09430a9ed80bedb598467ce8d1">ssize_t</a> nanocoap_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcoap__pkt__t.html">coap_pkt_t</a> *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td>
          <td class="paramname"><em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple synchronous CoAP request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pkt</td><td>Packet struct containing the request. Is reused for the response </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local</td><td>Local UDP endpoint, may be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote</td><td>remote UDP endpoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Total length of the buffer associated with the request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of response on success </dd>
<dd>
&lt;0 on error </dd></dl>

</div>
</div>
<a id="gaa8dc99f3f6c9b49ce8a4da7f15260766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8dc99f3f6c9b49ce8a4da7f15260766">&#9670;&nbsp;</a></span>nanocoap_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nanocoap_server </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__sock__udp.html#gaedc829c7973d7870c1ec078f9ffd45a1">sock_udp_ep_t</a> *&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msp430__types_8h.html#a7c94ea6f8948649f8d181ae55911eeaf">size_t</a>&#160;</td>
          <td class="paramname"><em>bufsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a nanocoap server instance. </p>
<p>This function only returns if there's an error binding to <code>local</code>, or if receiving of UDP packets fails.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">local</td><td>local UDP endpoint to bind to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>input buffer to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufsize</td><td>size of <code>buf</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 on error </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Thu Jul 2 2020 17:48:24 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
