<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>APDS99XX proximity and ambient light sensors</title>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery.min.js"></script>
    <script src="jquery.powertip.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="doxy-jquery.js"></script>
    <script src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <!-- Bootstrap -->
    <link href="doxygen.css" rel="stylesheet">
    <link href="fonts.css" rel="stylesheet">
    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link href="riot.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
        <script>
            function displaySR(){
            var rhtml=(document.getElementById('MSearchResults').contentWindow.document.body.innerHTML).replace(/href=\"\.\.\//g,'href="');
            document.getElementById('MSearchResultsWindow').style.display='none';
            document.getElementById('top').append(document.getElementById('MSearchSelectWindow'));
            document.getElementById('top').append(document.getElementById('MSearchResultsWindow'));
            document.getElementById('doc-content').innerHTML=rhtml;
            }
        </script>
  </head>
  <body>
      <div id="top">
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" id="brand-logo" href="http://riot-os.org"><img height="40px" src="riot-logo.svg" /></a>
              <p class="navbar-text text-center visible-xs">Documentation</p>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse">
              <p class="navbar-text navbar-left"><span id="projectbrief">The friendly Operating System for the Internet of Things</span></p>
              <ul id="riot-navlist" class="nav navbar-nav"></ul>
              <!--BEGIN SEARCHENGINE hidden-sm hidden-xs"-->
              <form id="riot-searchform" class="navbar-form navbar-left navbar-right"
                    onsubmit="try{
                        displaySR();
                    }finally{
                            return false;
                    }">
                 <div class="form-group">
                   <div id="MSearchBox" class="MSearchBoxActive">
                     <div class="input-group">
                       <div class="input-group-addon">
                         <span id="MSearchSelect" class="glyphicon glyphicon-search" aria-hidden="true" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"></span>
                       </div>
                       <input class="form-control" type="text" id="MSearchField" placeholder="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event);
                              var r=document.getElementById('MSearchResultsWindow');
                              if(parseInt(r.style.left)<0)r.style.left=0;
                              var x=document.getElementById('MSearchResults');
                              if(x.scrollWidth>window.screen.width)x.style.width=window.screen.width-2+'px';
                              var f=document.getElementById('riot-searchform');
                              if(parseInt( r.style.top) < f.offsetTop+f.scrollHeight) r.style.top = f.offsetTop+f.scrollHeight+'px';">
                       <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()">
                         <span id="search-reset" class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
                       </a>
                     </div>
                   </div>
                 </div>
              </form>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
      </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__drivers__apds99xx.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">APDS99XX proximity and ambient light sensors<div class="ingroups"><a class="el" href="group__drivers.html">Drivers</a> &raquo; <a class="el" href="group__drivers__sensors.html">Sensor Device Drivers</a><a class="el" href="group__drivers.html">Drivers</a> &raquo;  &#124; <a class="el" href="group__drivers__saul.html">[S]ensor [A]ctuator [U]ber [L]ayer</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Device driver for Broadcom APDS99XX proximity and ambient light sensors.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Device driver for Broadcom APDS99XX proximity and ambient light sensors. </p>
<p>The driver can be used with following Broadcom sensors: APDS9900, APDS9901, APDS9930, APDS9950, APDS9960</p>
<p>The driver is divided into two parts:</p>
<ul>
<li><p class="startli"><b>Basic driver</b> <code>apds99xx</code></p>
<p class="startli">The base driver <code>apds99xx</code> only supports a basic set of functions and has therefore a small size. The procedure for retrieving new data is polling. Ambient light and proximity sensing are supported.</p>
</li>
<li><p class="startli"><b>Fully functional driver</b> <code>apds99xx_full</code></p>
<p class="startli">The fully functional driver <code>apds99xx_full</code> supports all the features supported by the base driver, as well as all other sensor features, including interrupts and their configuration. Data-ready interrupts can be used to retrieve data. In addition, threshold interrupts can be used and configured.</p>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>In addition to specifying whether the base driver <code>apds99xx</code> or the fully featured driver <code>apds99xx_full</code> should be used, the application has to declare used sensor by means of various pseudomodules as follows: <pre class="fragment"> APDS9900:     USEMODULE=apds9900
 APDS9901:     USEMODULE=apds9901
 APDS9930:     USEMODULE=apds9930
 APDS9950:     USEMODULE=apds9950
 APDS9960:     USEMODULE=apds9960
</pre></dd></dl>
<p>This driver provides <a class="el" href="group__drivers__saul.html">[S]ensor [A]ctuator [U]ber [L]ayer</a> capabilities.</p>
<h1>Measurement Cycle</h1>
<p>APDS99XX sensor <b>measurement cycles</b> consists of the following <b>three steps</b> in the given order:</p>
<ul>
<li><p class="startli"><b>Proximity Sensing</b></p>
<p class="startli">The sensor generates a number of IR LED pulses and measures the amount of the IR energy reflected by an object to determine its distance. The time required for proximity sensing (<code>t_prx</code> ) results from the time it takes to generate the IR LED pulses and to accumulate the reflected IR energy (<code>t_prx_acc</code>) as well as the time for the ADC conversion (<code>t_prx_cnv</code>).</p>
<p class="startli">t_prx = t_prx_acc + t_prx_cnv</p>
<p class="startli">The time to generate the IR LED pulses and accumulate reflected IR energy <code>t_prx_acc</code> is defined by the number of pulses (parameter <a class="el" href="structapds99xx__params__t.html#acacd3a0570fbdbbace726e00f87bd773" title="IR LED pulses for proximity sensing. ">apds99xx_params_t::prx_pulses</a>) and the period of one pulse <code>t_prx_pulse</code>. </p><pre class="fragment">t_prx_acc = prx_pulses * t_prx_pulse
</pre><p class="startli">The ADC conversion time <code>t_prx_cnv</code> and the period of one pulse <code>t_prx_pulse</code> depend on used sensor and are available as the defines <a class="el" href="group__drivers__apds99xx.html#gaa3762beec647cda32361349791ce57e7" title="Proximity ADC conversion time t_prx_conv in us (tINIT + tCNVT for PPLEN=8 us) ">APDS99XX_T_PRX_CNV</a> and <a class="el" href="group__drivers__apds99xx.html#gaccc5305d30cde44861c6651d4191c460" title="LED IR pulse period t_pulse in us (for PPLEN=8 us) ">APDS99XX_T_PRX_PULSE</a> for calculations by the application. </p><table class="doxtable">
<tr>
<th>Sensor<br />
 </th><th>t_prx_pulse<br />
APDS99XX_T_PRX_PULSE </th><th>t_prx_cnv<br />
APDS99XX_T_PRX_CNV  </th></tr>
<tr>
<td>APDS9900 </td><td>0.016 ms </td><td>2.720 ms </td></tr>
<tr>
<td>APDS9901 </td><td>0.016 ms </td><td>2.720 ms </td></tr>
<tr>
<td>APDS9930 </td><td>0.016 ms </td><td>2.730 ms </td></tr>
<tr>
<td>APDS9950 </td><td>0.014 ms </td><td>2.400 ms </td></tr>
<tr>
<td>APDS9960 </td><td>0.036 ms </td><td>0.814 ms </td></tr>
</table>
<p><br />
</p>
<p class="startli">Proximity sensing uses the gain specified by parameter <a class="el" href="structapds99xx__params__t.html#aad606a9b89d1a83625843738eb9e5778" title="Gain used for proximity sensing. ">apds99xx_params_t::prx_gain</a> and the LED current specified by parameter <a class="el" href="structapds99xx__params__t.html#adfa2cac890d4a619703f2caccfc183aa" title="IR LED current for proximity sensing (default APDS99XX_PRX_DRIVE_100) ">apds99xx_params_t::prx_drive</a>.</p>
</li>
<li><p class="startli"><b>Wait</b></p>
<p class="startli">The sensor waits for <code>t_wait</code> which is defined by the number of waiting steps <code>wait_steps</code> (<a class="el" href="structapds99xx__params__t.html#a5e72cf4feaba8ec3f30d20d36c4c2ad4" title="Waiting time in steps. ">apds99xx_params_t::wait_steps</a>), the time per step <code>t_step</code>, and the wait long flag (<a class="el" href="structapds99xx__params__t.html#af3ec0e60fa2ce460c375919f3ab7015b" title="Long waiting time. ">apds99xx_params_t::wait_long</a>); </p><pre class="fragment">t_wait = wait_steps * t_wait_step            (if wait_long is false)
t_wait = wait_steps * t_wait_step * 12       (if wait_long is true)
</pre><p class="startli">Parameter <a class="el" href="structapds99xx__params__t.html#a5e72cf4feaba8ec3f30d20d36c4c2ad4" title="Waiting time in steps. ">apds99xx_params_t::wait_steps</a> can range from 0 to 256. If <a class="el" href="structapds99xx__params__t.html#a5e72cf4feaba8ec3f30d20d36c4c2ad4" title="Waiting time in steps. ">apds99xx_params_t::wait_steps</a> is 0, waiting is disabled. The time per step <code>t_wait_step</code> depends on used sensor and is available as the define <a class="el" href="group__drivers__apds99xx.html#ga834a9a427c383a2e6880d28eeef995b4" title="Wait time step size t_step in us. ">APDS99XX_T_WAIT_STEP</a> for calculations by the application. </p><table class="doxtable">
<tr>
<th>Sensor<br />
 </th><th>t_als_step<br />
APDS99XX_T_WAIT_STEP </th><th>t_wait (wait_long=0) <br />
 </th><th>t_wait (wait_long=1) <br />
  </th></tr>
<tr>
<td>APDS9900 </td><td>2.72 ms </td><td><code>wait_steps</code> * 2.72 ms </td><td><code>wait_steps</code> * 12 * 2.72 ms </td></tr>
<tr>
<td>APDS9901 </td><td>2.72 ms </td><td><code>wait_steps</code> * 2.72 ms </td><td><code>wait_steps</code> * 12 * 2.72 ms </td></tr>
<tr>
<td>APDS9930 </td><td>2.73 ms </td><td><code>wait_steps</code> * 2.73 ms </td><td><code>wait_steps</code> * 12 * 2.73 ms </td></tr>
<tr>
<td>APDS9950 </td><td>2.40 ms </td><td><code>wait_steps</code> * 2.40 ms </td><td><code>wait_steps</code> * 12 * 2.40 ms </td></tr>
<tr>
<td>APDS9960 </td><td>2.78 ms </td><td><code>wait_steps</code> * 2.78 ms </td><td><code>wait_steps</code> * 12 * 2.78 ms </td></tr>
</table>
<p><br />
</p>
</li>
<li><p class="startli"><b>Ambient Light Sensing (ALS)</b></p>
<p class="startli">The sensor converts the amplified photodiode currents using integrating ADCs. The time required for ALS is determined by the ALS integration time <code>t_als_int</code>, which is defined as the number of integration steps <code>als_steps</code> (parameter <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a>) and the time per step <code>t_als_step</code>. </p><pre class="fragment">t_als_int = als_steps * t_als_step
</pre><p class="startli">Parameter <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a> can range from 0 to 256. If <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a> is 0, ALS is disabled. The time per step <code>t_als_step</code> depends on used sensor and is available as the define <a class="el" href="group__drivers__apds99xx.html#ga22175e4925362bae95d45ce26cb73202" title="ALS integration time step size t_step in. ">APDS99XX_T_ALS_STEP</a> for calculations by the application.</p>
<p class="startli">The ALS integration time in steps <code>als_steps</code> (parameter <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a>) affects the resolution and the full scale range <code>cnt_als_max</code> of ALS data. </p><pre class="fragment">cnt_als_max = als_steps * cnts_p_step
</pre><p class="startli">The counts per step <code>cnts_p_step</code> depend on used sensor and is available as defines <a class="el" href="group__drivers__apds99xx.html#ga616c0877c10bf45b4f9a293ae223d32f" title="Counts per step cnts_p_step ">APDS99XX_CNTS_P_STEP</a> for calculations by the application</p>
<p class="startli">ALS uses the gain specified by parameter <a class="el" href="structapds99xx__params__t.html#a587f685eb3c7ad170181fdacda1411f3" title="Gain used for ALS. ">apds99xx_params_t::als_gain</a>. </p><table class="doxtable">
<tr>
<th>Sensor<br />
 </th><th>t_als_step<br />
APDS99XX_T_ALS_STEP </th><th>cnts_p_step<br />
APDS99XX_CNTS_P_STEP </th><th>t_als_int<br />
 </th><th>cnt_als_max<br />
  </th></tr>
<tr>
<td>APDS9900 </td><td>2.72 ms </td><td>1023 </td><td><code>als_steps</code> * 2.72 ms </td><td><code>als_steps</code> * 1023 </td></tr>
<tr>
<td>APDS9901 </td><td>2.72 ms </td><td>1023 </td><td><code>als_steps</code> * 2.72 ms </td><td><code>als_steps</code> * 1023 </td></tr>
<tr>
<td>APDS9930 </td><td>2.73 ms </td><td>1023 </td><td><code>als_steps</code> * 2.73 ms </td><td><code>als_steps</code> * 1023 </td></tr>
<tr>
<td>APDS9950 </td><td>2.40 ms </td><td>1024 </td><td><code>als_steps</code> * 2.40 ms </td><td><code>als_steps</code> * 1024 </td></tr>
<tr>
<td>APDS9960 </td><td>2.78 ms </td><td>1025 </td><td><code>als_steps</code> * 2.78 ms </td><td><code>als_steps</code> * 1025 </td></tr>
</table>
</li>
</ul>
<p>The overall measurement cycle time is given by: </p><pre class="fragment">t_cycle = t_prx + t_wait + t_als_int
</pre><p>For a given ALS integration time and a given proximity sensing time, the waiting time can be used to tune the overall measurement cycle time.</p>
<h1>Interrupts</h1>
<p>With the <code>apds99xx_full</code> driver, interrupts can be used either to fetch ALS and proximity data or to detect when these data exceed defined thresholds.</p>
<p>To use interrupts, the application must call the <a class="el" href="group__drivers__apds99xx.html#ga49cf8d6e99d38576697d504ad4b37923" title="Configure the interrupts of the sensor. ">apds99xx_int_config</a> function to specify an <a class="el" href="structapds99xx__int__config__t.html" title="Interrupt configuration. ">apds99xx_int_config_t</a> interrupt configuration and an ISR with an optional argument that is invoked when an interrupt is raised. For details about configuring and enabling the interrupts, see <a class="el" href="structapds99xx__int__config__t.html" title="Interrupt configuration. ">apds99xx_int_config_t</a>.</p>
<dl class="section note"><dt>Note</dt><dd>The ISR of the application is executed in the interrupt context. Therefore, it must not be blocking or time consuming. In addition, it must not access the sensor directly via I2C. It should only indicate to the waiting application that an interrupt has occurred, which is then handled in the thread context.</dd></dl>
<p>While an interrupt is being serviced, the application can use the <a class="el" href="group__drivers__apds99xx.html#ga280bcc8343239cd8712f57b1f578afbb" title="Get the source of an interrupt. ">apds99xx_int_source</a> function to query the type of interrupts triggered by the sensor. In addition, the function resets the interrupt signal.</p>
<dl class="section note"><dt>Note</dt><dd>Since the interrupt signal is only reset by the function <a class="el" href="group__drivers__apds99xx.html#ga280bcc8343239cd8712f57b1f578afbb" title="Get the source of an interrupt. ">apds99xx_int_source</a>, this function <a class="el" href="group__drivers__apds99xx.html#ga280bcc8343239cd8712f57b1f578afbb" title="Get the source of an interrupt. ">apds99xx_int_source</a> must be executed by application, even if the type of the triggered interrupt is not of interest.</dd></dl>
<p>For using interrupts, the GPIO to which the sensor's <b>INT</b> output pin is connected has to be defined by the application in configuration parameters. The GPIO is initialized by the driver as soon as the interrupt configuration with the function # apds99xx_int_config is specified.</p>
<h1>Illuminance in Lux and RGB count values</h1>
<p>For all sensors, the clear channel and the RGB channels provide only count values. APDS9900, APDS9901, and APDS9930 have an IR photodiode in addition to the clear channel photodiode, which can be used to determine the illuminance in Lux with an algorithm described in their datasheets.</p>
<p>Unfortunately, APDS9950 and APDS9960 do not have such an additional IR photodiode, and there is no document which describes an approach to calculate the illuminance from the RGB channels. Therefore, it is not possible to determine the illuminance for these sensors.</p>
<dl class="section author"><dt>Author</dt><dd>Gunar Schorcht <a href="#" onclick="location.href='mai'+'lto:'+'gun'+'ar'+'@sc'+'ho'+'rch'+'t.'+'net'; return false;">gunar<span style="display: none;">.nosp@m.</span>@sch<span style="display: none;">.nosp@m.</span>orcht<span style="display: none;">.nosp@m.</span>.net</a> </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:apds99xx__params_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apds99xx__params_8h.html">apds99xx_params.h</a></td></tr>
<tr class="memdesc:apds99xx__params_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default configuration for Broadcom APDS99XX proximity and ambient light sensor. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:apds99xx__regs_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apds99xx__regs_8h.html">apds99xx_regs.h</a></td></tr>
<tr class="memdesc:apds99xx__regs_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register definitions for Broadcom APDS99XX proximity and ambient light sensor. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:apds99xx_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="apds99xx_8h.html">apds99xx.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapds99xx__params__t.html">apds99xx_params_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">APDS99XX device initialization parameters.  <a href="structapds99xx__params__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapds99xx__int__config__t.html">apds99xx_int_config_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt configuration.  <a href="structapds99xx__int__config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapds99xx__int__source__t.html">apds99xx_int_source_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt source.  <a href="structapds99xx__int__source__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structapds99xx__t.html">apds99xx_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">APDS99XX sensor device data structure type.  <a href="structapds99xx__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionapds99xx__rgb__t.html">apds99xx_rgb_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">RGB count value data structure (APDS9950 and APDS9960 only)  <a href="unionapds99xx__rgb__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa91af6893c353a898b6607491430b35b"><td class="memItemLeft" align="right" valign="top"><a id="gaa91af6893c353a898b6607491430b35b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaa91af6893c353a898b6607491430b35b">APDS99XX_I2C_ADDRESS</a>&#160;&#160;&#160;(0x39)</td></tr>
<tr class="memdesc:gaa91af6893c353a898b6607491430b35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">APDS99XX I2C addresses. <br /></td></tr>
<tr class="separator:gaa91af6893c353a898b6607491430b35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga02ff2017e4a698ddda8c4d34978bfffb"><td class="memItemLeft" align="right" valign="top"><a id="ga02ff2017e4a698ddda8c4d34978bfffb"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga02ff2017e4a698ddda8c4d34978bfffb">apds99xx_isr_t</a>) (void *arg)</td></tr>
<tr class="memdesc:ga02ff2017e4a698ddda8c4d34978bfffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine function prototype. <br /></td></tr>
<tr class="separator:ga02ff2017e4a698ddda8c4d34978bfffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab524bd71c1b612a5164cc4d3b741bc14"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14">apds99xx_error_codes_t</a> { <br />
&#160;&#160;<a class="el" href="group__drivers__apds99xx.html#ggab524bd71c1b612a5164cc4d3b741bc14aade8cd80413eb02a47ae6f6eb661fdc0">APDS99XX_OK</a>, 
<a class="el" href="group__drivers__apds99xx.html#ggab524bd71c1b612a5164cc4d3b741bc14a381ee70292aaabeb07f1a46438b4eed6">APDS99XX_ERROR_I2C</a>, 
<a class="el" href="group__drivers__apds99xx.html#ggab524bd71c1b612a5164cc4d3b741bc14a6a82c66c43a5e3e5d79cc8ee0f431563">APDS99XX_ERROR_WRONG_ID</a>, 
<a class="el" href="group__drivers__apds99xx.html#ggab524bd71c1b612a5164cc4d3b741bc14a19b2d8139b1fdcf1e96e6c3cf75f9261">APDS99XX_ERROR_NO_DATA</a>, 
<br />
&#160;&#160;<a class="el" href="group__drivers__apds99xx.html#ggab524bd71c1b612a5164cc4d3b741bc14a563e92d58a15cc54891c533d4ff75879">APDS99XX_ERROR_RAW_DATA</a>
<br />
 }<tr class="memdesc:gab524bd71c1b612a5164cc4d3b741bc14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of error codes.  <a href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gab524bd71c1b612a5164cc4d3b741bc14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf267b79e5997a3ecb7f812bf70c59f1f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaf267b79e5997a3ecb7f812bf70c59f1f">apds99xx_als_gain_t</a> { <br />
&#160;&#160;<a class="el" href="group__drivers__apds99xx.html#ggaf267b79e5997a3ecb7f812bf70c59f1fa8a3921f50c8b71efabfb5aee332dc9d7">APDS99XX_ALS_GAIN_1</a> = 0, 
<a class="el" href="group__drivers__apds99xx.html#ggaf267b79e5997a3ecb7f812bf70c59f1fa75c8aa974844dee47951e7092d990e45">APDS99XX_ALS_GAIN_8</a>, 
<a class="el" href="group__drivers__apds99xx.html#ggaf267b79e5997a3ecb7f812bf70c59f1fa35c22e5c6735a81eaf8581738c43a0fb">APDS99XX_ALS_GAIN_16</a>, 
<a class="el" href="group__drivers__apds99xx.html#ggaf267b79e5997a3ecb7f812bf70c59f1fa3dcf724a26eb6f454554d305c0361dd8">APDS99XX_ALS_GAIN_64</a>, 
<br />
&#160;&#160;<a class="el" href="group__drivers__apds99xx.html#ggaf267b79e5997a3ecb7f812bf70c59f1fa2b104551f2246b1fb1534e76b9b89b66">APDS99XX_ALS_GAIN_120</a>
<br />
 }<tr class="memdesc:gaf267b79e5997a3ecb7f812bf70c59f1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ambient light sensing (ALS) gain.  <a href="group__drivers__apds99xx.html#gaf267b79e5997a3ecb7f812bf70c59f1f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gaf267b79e5997a3ecb7f812bf70c59f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga239ce6b502d9d5a3649a58f44d20529a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga239ce6b502d9d5a3649a58f44d20529a">apds99xx_prx_gain_t</a> { <a class="el" href="group__drivers__apds99xx.html#gga239ce6b502d9d5a3649a58f44d20529aaa5167146a73c60cb91937dbde9185aee">APDS99XX_PRX_GAIN_1</a> = 0, 
<a class="el" href="group__drivers__apds99xx.html#gga239ce6b502d9d5a3649a58f44d20529aad368f5a5f509a43046bd176aa97ed01d">APDS99XX_PRX_GAIN_2</a>, 
<a class="el" href="group__drivers__apds99xx.html#gga239ce6b502d9d5a3649a58f44d20529aa64e302dbba8b12a65d7fd79f48b9b088">APDS99XX_PRX_GAIN_4</a>, 
<a class="el" href="group__drivers__apds99xx.html#gga239ce6b502d9d5a3649a58f44d20529aa8adc315e6ec9619d698b0c670cb77565">APDS99XX_PRX_GAIN_8</a>
 }<tr class="memdesc:ga239ce6b502d9d5a3649a58f44d20529a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proximity sensing (PRX) gain.  <a href="group__drivers__apds99xx.html#ga239ce6b502d9d5a3649a58f44d20529a">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga239ce6b502d9d5a3649a58f44d20529a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e46d7aeab7b9a2a7e37f47501f1d20b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga5e46d7aeab7b9a2a7e37f47501f1d20b">apds99xx_prx_drive_t</a> { <a class="el" href="group__drivers__apds99xx.html#gga5e46d7aeab7b9a2a7e37f47501f1d20ba70ea5fbfdcdf633995f5ffc7cdf90bc5">APDS99XX_PRX_DRIVE_100</a> = 0, 
<a class="el" href="group__drivers__apds99xx.html#gga5e46d7aeab7b9a2a7e37f47501f1d20ba9e62dc9e3c2140db35443222df67b248">APDS99XX_PRX_DRIVE_50</a>, 
<a class="el" href="group__drivers__apds99xx.html#gga5e46d7aeab7b9a2a7e37f47501f1d20ba1da3caa0cd934087b52d23f86d2e654f">APDS99XX_PRX_DRIVE_25</a>, 
<a class="el" href="group__drivers__apds99xx.html#gga5e46d7aeab7b9a2a7e37f47501f1d20ba582a29c831de11a603da201f79ea5752">APDS99XX_PRX_DRIVE_12_5</a>
 }<tr class="memdesc:ga5e46d7aeab7b9a2a7e37f47501f1d20b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proximity sensing (PRX) LED drive strength.  <a href="group__drivers__apds99xx.html#ga5e46d7aeab7b9a2a7e37f47501f1d20b">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga5e46d7aeab7b9a2a7e37f47501f1d20b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf7659fc60e0603c57eb902533a84cd37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaf7659fc60e0603c57eb902533a84cd37">apds99xx_init</a> (<a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, const <a class="el" href="structapds99xx__params__t.html">apds99xx_params_t</a> *params)</td></tr>
<tr class="memdesc:gaf7659fc60e0603c57eb902533a84cd37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the APDS99XX sensor device.  <a href="#gaf7659fc60e0603c57eb902533a84cd37">More...</a><br /></td></tr>
<tr class="separator:gaf7659fc60e0603c57eb902533a84cd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e18dc27475ccda7f22e004fc31b76d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga7e18dc27475ccda7f22e004fc31b76d7">apds99xx_data_ready_als</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev)</td></tr>
<tr class="memdesc:ga7e18dc27475ccda7f22e004fc31b76d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ambient light sensing (ALS) data-ready status function.  <a href="#ga7e18dc27475ccda7f22e004fc31b76d7">More...</a><br /></td></tr>
<tr class="separator:ga7e18dc27475ccda7f22e004fc31b76d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacacb08da41256b0cd4ce0b56692c99f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaacacb08da41256b0cd4ce0b56692c99f">apds99xx_read_als_raw</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, uint16_t *raw)</td></tr>
<tr class="memdesc:gaacacb08da41256b0cd4ce0b56692c99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one raw data sample of ambient light sensing (ALS)  <a href="#gaacacb08da41256b0cd4ce0b56692c99f">More...</a><br /></td></tr>
<tr class="separator:gaacacb08da41256b0cd4ce0b56692c99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a6cb908585f9e6872d10028c75325f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga9a6cb908585f9e6872d10028c75325f9">apds99xx_read_illuminance</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, uint16_t *lux)</td></tr>
<tr class="memdesc:ga9a6cb908585f9e6872d10028c75325f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one data sample of illuminance in lux.  <a href="#ga9a6cb908585f9e6872d10028c75325f9">More...</a><br /></td></tr>
<tr class="separator:ga9a6cb908585f9e6872d10028c75325f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeb1b7c6fc310cdd771b0c700336962b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaeeb1b7c6fc310cdd771b0c700336962b">apds99xx_read_rgb_raw</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, <a class="el" href="unionapds99xx__rgb__t.html">apds99xx_rgb_t</a> *rgb)</td></tr>
<tr class="memdesc:gaeeb1b7c6fc310cdd771b0c700336962b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one raw RGB color data sample (APDS9950 and APDS9960 only)  <a href="#gaeeb1b7c6fc310cdd771b0c700336962b">More...</a><br /></td></tr>
<tr class="separator:gaeeb1b7c6fc310cdd771b0c700336962b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1fa6babf96889d49ce87a7cb779e1ee8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga1fa6babf96889d49ce87a7cb779e1ee8">apds99xx_data_ready_prx</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev)</td></tr>
<tr class="memdesc:ga1fa6babf96889d49ce87a7cb779e1ee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proximity sensing (PRX) data-ready status function.  <a href="#ga1fa6babf96889d49ce87a7cb779e1ee8">More...</a><br /></td></tr>
<tr class="separator:ga1fa6babf96889d49ce87a7cb779e1ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0015301edebffd9c7d62d7d6ce82736"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaa0015301edebffd9c7d62d7d6ce82736">apds99xx_read_prx_raw</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, uint16_t *prx)</td></tr>
<tr class="memdesc:gaa0015301edebffd9c7d62d7d6ce82736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one data sample of proximity sensing (PRX)  <a href="#gaa0015301edebffd9c7d62d7d6ce82736">More...</a><br /></td></tr>
<tr class="separator:gaa0015301edebffd9c7d62d7d6ce82736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a04b0acc5c717828f10a2bba9b1bfa5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga0a04b0acc5c717828f10a2bba9b1bfa5">apds99xx_power_down</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev)</td></tr>
<tr class="memdesc:ga0a04b0acc5c717828f10a2bba9b1bfa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down the sensor.  <a href="#ga0a04b0acc5c717828f10a2bba9b1bfa5">More...</a><br /></td></tr>
<tr class="separator:ga0a04b0acc5c717828f10a2bba9b1bfa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab36b15a30dad65a5ebf7ec9d69e16239"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gab36b15a30dad65a5ebf7ec9d69e16239">apds99xx_power_up</a> (const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev)</td></tr>
<tr class="memdesc:gab36b15a30dad65a5ebf7ec9d69e16239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power up the sensor.  <a href="#gab36b15a30dad65a5ebf7ec9d69e16239">More...</a><br /></td></tr>
<tr class="separator:gab36b15a30dad65a5ebf7ec9d69e16239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49cf8d6e99d38576697d504ad4b37923"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga49cf8d6e99d38576697d504ad4b37923">apds99xx_int_config</a> (<a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, <a class="el" href="structapds99xx__int__config__t.html">apds99xx_int_config_t</a> *cfg, <a class="el" href="group__drivers__apds99xx.html#ga02ff2017e4a698ddda8c4d34978bfffb">apds99xx_isr_t</a> isr, void *isr_arg)</td></tr>
<tr class="memdesc:ga49cf8d6e99d38576697d504ad4b37923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the interrupts of the sensor.  <a href="#ga49cf8d6e99d38576697d504ad4b37923">More...</a><br /></td></tr>
<tr class="separator:ga49cf8d6e99d38576697d504ad4b37923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga280bcc8343239cd8712f57b1f578afbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga280bcc8343239cd8712f57b1f578afbb">apds99xx_int_source</a> (<a class="el" href="structapds99xx__t.html">apds99xx_t</a> *dev, <a class="el" href="structapds99xx__int__source__t.html">apds99xx_int_source_t</a> *src)</td></tr>
<tr class="memdesc:ga280bcc8343239cd8712f57b1f578afbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the source of an interrupt.  <a href="#ga280bcc8343239cd8712f57b1f578afbb">More...</a><br /></td></tr>
<tr class="separator:ga280bcc8343239cd8712f57b1f578afbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
APDS99XX device properties</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpbdc8dfd9cb846e816738e98308a6802f"></a>Defines for different device properties for supported sensor types.</p>
<p>These properties can be used by the application for calculations. </p>
</td></tr>
<tr class="memitem:ga6eea5917884ab50676988836c1b37077"><td class="memItemLeft" align="right" valign="top"><a id="ga6eea5917884ab50676988836c1b37077"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga6eea5917884ab50676988836c1b37077">APDS99XX_ID</a>&#160;&#160;&#160;(0xab)</td></tr>
<tr class="memdesc:ga6eea5917884ab50676988836c1b37077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device ID of ADPS-9960. <br /></td></tr>
<tr class="separator:ga6eea5917884ab50676988836c1b37077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccc5305d30cde44861c6651d4191c460"><td class="memItemLeft" align="right" valign="top"><a id="gaccc5305d30cde44861c6651d4191c460"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaccc5305d30cde44861c6651d4191c460">APDS99XX_T_PRX_PULSE</a>&#160;&#160;&#160;(36)</td></tr>
<tr class="memdesc:gaccc5305d30cde44861c6651d4191c460"><td class="mdescLeft">&#160;</td><td class="mdescRight">LED IR pulse period <code>t_pulse</code> in us (for PPLEN=8 us) <br /></td></tr>
<tr class="separator:gaccc5305d30cde44861c6651d4191c460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3762beec647cda32361349791ce57e7"><td class="memItemLeft" align="right" valign="top"><a id="gaa3762beec647cda32361349791ce57e7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#gaa3762beec647cda32361349791ce57e7">APDS99XX_T_PRX_CNV</a>&#160;&#160;&#160;(841)</td></tr>
<tr class="memdesc:gaa3762beec647cda32361349791ce57e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proximity ADC conversion time <code>t_prx_conv</code> in us (tINIT + tCNVT for PPLEN=8 us) <br /></td></tr>
<tr class="separator:gaa3762beec647cda32361349791ce57e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga834a9a427c383a2e6880d28eeef995b4"><td class="memItemLeft" align="right" valign="top"><a id="ga834a9a427c383a2e6880d28eeef995b4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga834a9a427c383a2e6880d28eeef995b4">APDS99XX_T_WAIT_STEP</a>&#160;&#160;&#160;(2780)</td></tr>
<tr class="memdesc:ga834a9a427c383a2e6880d28eeef995b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait time step size <code>t_step</code> in us. <br /></td></tr>
<tr class="separator:ga834a9a427c383a2e6880d28eeef995b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22175e4925362bae95d45ce26cb73202"><td class="memItemLeft" align="right" valign="top"><a id="ga22175e4925362bae95d45ce26cb73202"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga22175e4925362bae95d45ce26cb73202">APDS99XX_T_ALS_STEP</a>&#160;&#160;&#160;(2780)</td></tr>
<tr class="memdesc:ga22175e4925362bae95d45ce26cb73202"><td class="mdescLeft">&#160;</td><td class="mdescRight">ALS integration time step size <code>t_step</code> in. <br /></td></tr>
<tr class="separator:ga22175e4925362bae95d45ce26cb73202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga616c0877c10bf45b4f9a293ae223d32f"><td class="memItemLeft" align="right" valign="top"><a id="ga616c0877c10bf45b4f9a293ae223d32f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__drivers__apds99xx.html#ga616c0877c10bf45b4f9a293ae223d32f">APDS99XX_CNTS_P_STEP</a>&#160;&#160;&#160;(1025)</td></tr>
<tr class="memdesc:ga616c0877c10bf45b4f9a293ae223d32f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts per step <code>cnts_p_step</code> <br /></td></tr>
<tr class="separator:ga616c0877c10bf45b4f9a293ae223d32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaf267b79e5997a3ecb7f812bf70c59f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf267b79e5997a3ecb7f812bf70c59f1f">&#9670;&nbsp;</a></span>apds99xx_als_gain_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__apds99xx.html#gaf267b79e5997a3ecb7f812bf70c59f1f">apds99xx_als_gain_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ambient light sensing (ALS) gain. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaf267b79e5997a3ecb7f812bf70c59f1fa8a3921f50c8b71efabfb5aee332dc9d7"></a>APDS99XX_ALS_GAIN_1&#160;</td><td class="fielddoc"><p>1 x gain (default) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf267b79e5997a3ecb7f812bf70c59f1fa75c8aa974844dee47951e7092d990e45"></a>APDS99XX_ALS_GAIN_8&#160;</td><td class="fielddoc"><p>8 x gain </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf267b79e5997a3ecb7f812bf70c59f1fa35c22e5c6735a81eaf8581738c43a0fb"></a>APDS99XX_ALS_GAIN_16&#160;</td><td class="fielddoc"><p>16 x gain </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf267b79e5997a3ecb7f812bf70c59f1fa3dcf724a26eb6f454554d305c0361dd8"></a>APDS99XX_ALS_GAIN_64&#160;</td><td class="fielddoc"><p>64 x gain (APDS9950, APDS9960 only) </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaf267b79e5997a3ecb7f812bf70c59f1fa2b104551f2246b1fb1534e76b9b89b66"></a>APDS99XX_ALS_GAIN_120&#160;</td><td class="fielddoc"><p>120 x gain (APDS9900, APDS9901, APDS9930 only) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="apds99xx_8h_source.html#l00291">291</a> of file <a class="el" href="apds99xx_8h_source.html">apds99xx.h</a>.</p>

</div>
</div>
<a id="gab524bd71c1b612a5164cc4d3b741bc14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab524bd71c1b612a5164cc4d3b741bc14">&#9670;&nbsp;</a></span>apds99xx_error_codes_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14">apds99xx_error_codes_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of error codes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab524bd71c1b612a5164cc4d3b741bc14aade8cd80413eb02a47ae6f6eb661fdc0"></a>APDS99XX_OK&#160;</td><td class="fielddoc"><p>success </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab524bd71c1b612a5164cc4d3b741bc14a381ee70292aaabeb07f1a46438b4eed6"></a>APDS99XX_ERROR_I2C&#160;</td><td class="fielddoc"><p>I2C communication error. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab524bd71c1b612a5164cc4d3b741bc14a6a82c66c43a5e3e5d79cc8ee0f431563"></a>APDS99XX_ERROR_WRONG_ID&#160;</td><td class="fielddoc"><p>wrong id read </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab524bd71c1b612a5164cc4d3b741bc14a19b2d8139b1fdcf1e96e6c3cf75f9261"></a>APDS99XX_ERROR_NO_DATA&#160;</td><td class="fielddoc"><p>no data are available </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab524bd71c1b612a5164cc4d3b741bc14a563e92d58a15cc54891c533d4ff75879"></a>APDS99XX_ERROR_RAW_DATA&#160;</td><td class="fielddoc"><p>reading raw data failed </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="apds99xx_8h_source.html#l00280">280</a> of file <a class="el" href="apds99xx_8h_source.html">apds99xx.h</a>.</p>

</div>
</div>
<a id="ga5e46d7aeab7b9a2a7e37f47501f1d20b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e46d7aeab7b9a2a7e37f47501f1d20b">&#9670;&nbsp;</a></span>apds99xx_prx_drive_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__apds99xx.html#ga5e46d7aeab7b9a2a7e37f47501f1d20b">apds99xx_prx_drive_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proximity sensing (PRX) LED drive strength. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5e46d7aeab7b9a2a7e37f47501f1d20ba70ea5fbfdcdf633995f5ffc7cdf90bc5"></a>APDS99XX_PRX_DRIVE_100&#160;</td><td class="fielddoc"><p>100.0 mA (default) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5e46d7aeab7b9a2a7e37f47501f1d20ba9e62dc9e3c2140db35443222df67b248"></a>APDS99XX_PRX_DRIVE_50&#160;</td><td class="fielddoc"><p>50.0 mA </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5e46d7aeab7b9a2a7e37f47501f1d20ba1da3caa0cd934087b52d23f86d2e654f"></a>APDS99XX_PRX_DRIVE_25&#160;</td><td class="fielddoc"><p>25.0 mA </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5e46d7aeab7b9a2a7e37f47501f1d20ba582a29c831de11a603da201f79ea5752"></a>APDS99XX_PRX_DRIVE_12_5&#160;</td><td class="fielddoc"><p>12.5 mA </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="apds99xx_8h_source.html#l00318">318</a> of file <a class="el" href="apds99xx_8h_source.html">apds99xx.h</a>.</p>

</div>
</div>
<a id="ga239ce6b502d9d5a3649a58f44d20529a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga239ce6b502d9d5a3649a58f44d20529a">&#9670;&nbsp;</a></span>apds99xx_prx_gain_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__drivers__apds99xx.html#ga239ce6b502d9d5a3649a58f44d20529a">apds99xx_prx_gain_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proximity sensing (PRX) gain. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga239ce6b502d9d5a3649a58f44d20529aaa5167146a73c60cb91937dbde9185aee"></a>APDS99XX_PRX_GAIN_1&#160;</td><td class="fielddoc"><p>1 x gain (default) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga239ce6b502d9d5a3649a58f44d20529aad368f5a5f509a43046bd176aa97ed01d"></a>APDS99XX_PRX_GAIN_2&#160;</td><td class="fielddoc"><p>2 x gain (APDS9930, APDS9960 only) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga239ce6b502d9d5a3649a58f44d20529aa64e302dbba8b12a65d7fd79f48b9b088"></a>APDS99XX_PRX_GAIN_4&#160;</td><td class="fielddoc"><p>4 x gain (APDS9930, APDS9960 only) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga239ce6b502d9d5a3649a58f44d20529aa8adc315e6ec9619d698b0c670cb77565"></a>APDS99XX_PRX_GAIN_8&#160;</td><td class="fielddoc"><p>8 x gain (APDS9930, APDS9960 only) </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="apds99xx_8h_source.html#l00306">306</a> of file <a class="el" href="apds99xx_8h_source.html">apds99xx.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7e18dc27475ccda7f22e004fc31b76d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e18dc27475ccda7f22e004fc31b76d7">&#9670;&nbsp;</a></span>apds99xx_data_ready_als()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_data_ready_als </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ambient light sensing (ALS) data-ready status function. </p>
<p>The function reads the ALS valid flag in status register and returns. It can be used for polling new ambient light sensing data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>new abmient light data available </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_NO_DATA</td><td>no new abmient light data available </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1fa6babf96889d49ce87a7cb779e1ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1fa6babf96889d49ce87a7cb779e1ee8">&#9670;&nbsp;</a></span>apds99xx_data_ready_prx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_data_ready_prx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proximity sensing (PRX) data-ready status function. </p>
<p>The function reads the proximity valid flag in status register and returns. It can be used for polling new proximity sensing data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>new proximity data available </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_NO_DATA</td><td>no new proximity data available </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf7659fc60e0603c57eb902533a84cd37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf7659fc60e0603c57eb902533a84cd37">&#9670;&nbsp;</a></span>apds99xx_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structapds99xx__params__t.html">apds99xx_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the APDS99XX sensor device. </p>
<p>This function resets the sensor and initializes the sensor according to given initialization parameters. All registers are reset to default values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor to be initialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>configuration parameters, see <a class="el" href="structapds99xx__params__t.html" title="APDS99XX device initialization parameters. ">apds99xx_params_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>a negative error code on error, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga49cf8d6e99d38576697d504ad4b37923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49cf8d6e99d38576697d504ad4b37923">&#9670;&nbsp;</a></span>apds99xx_int_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_int_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapds99xx__int__config__t.html">apds99xx_int_config_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__drivers__apds99xx.html#ga02ff2017e4a698ddda8c4d34978bfffb">apds99xx_isr_t</a>&#160;</td>
          <td class="paramname"><em>isr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>isr_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the interrupts of the sensor. </p>
<p>The function configures the interrupts of the sensor and sets the ISR as well as its argument for handling the interrupts.</p>
<p>If any interrupt is enabled by the configuration (<a class="el" href="structapds99xx__int__config__t.html#aa6714b8f4009b680889293431d507b8b" title="ALS interrupt enabled. ">apds99xx_int_config_t::als_int_en</a> or <a class="el" href="structapds99xx__int__config__t.html#aa6714b8f4009b680889293431d507b8b" title="ALS interrupt enabled. ">apds99xx_int_config_t::als_int_en</a> are set), the function</p>
<ul>
<li>initializes the GPIO defined by <a class="el" href="structapds99xx__params__t.html#a4ce93416c24348a35144aa15e454f7f1" title="interrupt pin: GPIO_UNDEF if not used ">apds99xx_params_t::int_pin</a>, and</li>
<li>attaches the ISR specified by the <code>isr</code> parameter to the interrupt.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Since the ISR is executed in the interrupt context, it must not be blocking or time consuming. In addition, it must not access the sensor directly via I2C. It should only indicate to a waiting thread that an interrupt has occurred, which is then handled in the thread context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cfg</td><td>interrupt configuration, see <a class="el" href="structapds99xx__int__config__t.html" title="Interrupt configuration. ">apds99xx_int_config_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isr</td><td>ISR called for all types of interrupts </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isr_arg</td><td>ISR argument, can be NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code on error, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga280bcc8343239cd8712f57b1f578afbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga280bcc8343239cd8712f57b1f578afbb">&#9670;&nbsp;</a></span>apds99xx_int_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_int_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structapds99xx__int__source__t.html">apds99xx_int_source_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the source of an interrupt. </p>
<p>The function clears the interrupt signal and returns the source of the interrupt. Since the interrupt signal is only reset by this function, it must be executed to reset the interrupt signal, even if the type of the triggered interrupt is not of interest.</p>
<dl class="section note"><dt>Note</dt><dd>It must not be called from the ISR to avoid I2C bus accesses in the interrupt context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">src</td><td>interrupt source, see <a class="el" href="structapds99xx__int__source__t.html" title="Interrupt source. ">apds99xx_int_source_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code on error, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0a04b0acc5c717828f10a2bba9b1bfa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a04b0acc5c717828f10a2bba9b1bfa5">&#9670;&nbsp;</a></span>apds99xx_power_down()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_power_down </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power down the sensor. </p>
<p>The sensor is switched into sleep mode. It remains operational on the I2C interface. Depending on the sensor used, it consumes only about 1 to 3 uA in this mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>a negative error code on error, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab36b15a30dad65a5ebf7ec9d69e16239"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab36b15a30dad65a5ebf7ec9d69e16239">&#9670;&nbsp;</a></span>apds99xx_power_up()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_power_up </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power up the sensor. </p>
<p>The sensor is woken up from sleep mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>a negative error code on error, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaacacb08da41256b0cd4ce0b56692c99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaacacb08da41256b0cd4ce0b56692c99f">&#9670;&nbsp;</a></span>apds99xx_read_als_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_read_als_raw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one raw data sample of ambient light sensing (ALS) </p>
<p>Raw ambient light sensing (ALS) data are available as 16-bit count values (cnt_als). The range of these count values depends on the ALS integration time <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a> and the ALS gain <a class="el" href="structapds99xx__params__t.html#a587f685eb3c7ad170181fdacda1411f3" title="Gain used for ALS. ">apds99xx_params_t::als_gain</a>. The maximum count value (cnt_als_max) is: </p><pre class="fragment"> cnt_als_max = APDS99XX_CNTS_P_STEP * als_steps * als_gain
</pre><p>If there are no new data ready to read, last valid data sample is returned. Function <a class="el" href="group__drivers__apds99xx.html#ga7e18dc27475ccda7f22e004fc31b76d7" title="Ambient light sensing (ALS) data-ready status function. ">apds99xx_data_ready_als</a> could be used to check whether new data are available before this function is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">raw</td><td>raw ambient light sensing data as count value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9a6cb908585f9e6872d10028c75325f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a6cb908585f9e6872d10028c75325f9">&#9670;&nbsp;</a></span>apds99xx_read_illuminance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_read_illuminance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>lux</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one data sample of illuminance in lux. </p>
<p>Illuminance in lux is computed from raw ambient light sensing (ALS) data which are measured in counts. Since the range of ALS data depend on ALS integration time <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a> and the ALS gain <a class="el" href="structapds99xx__params__t.html#a587f685eb3c7ad170181fdacda1411f3" title="Gain used for ALS. ">apds99xx_params_t::als_gain</a>, these parameters also affect the sensitivity of the illuminance.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only available for APDS9900, APDS9901 and APD9930.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lux</td><td>illuminance in lux</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa0015301edebffd9c7d62d7d6ce82736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0015301edebffd9c7d62d7d6ce82736">&#9670;&nbsp;</a></span>apds99xx_read_prx_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_read_prx_raw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>prx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one data sample of proximity sensing (PRX) </p>
<p>Proximity data samples are given as a 16-bit count values (cnt_prx).</p>
<dl class="section note"><dt>Note</dt><dd>APDS9960 returns only 8-bit values in the range of 0 to 255.</dd></dl>
<p>The range of the count values depends on the PRX LED drive strength <a class="el" href="structapds99xx__params__t.html#adfa2cac890d4a619703f2caccfc183aa" title="IR LED current for proximity sensing (default APDS99XX_PRX_DRIVE_100) ">apds99xx_params_t::prx_drive</a> the PRX gain <a class="el" href="structapds99xx__params__t.html#aad606a9b89d1a83625843738eb9e5778" title="Gain used for proximity sensing. ">apds99xx_params_t::prx_gain</a>, and if used, the PRX integration time apds99xx_params_t::prx_time.</p>
<dl class="section note"><dt>Note</dt><dd>A number of disturbing effects such as DC noise, sensor coverage, or surrounding objects cause an offset in the measured proximity values. The application should remove this offset, for example, by finding the minimum value ever measured and subtracting it from the current reading. The minimum value is then assumed to be 0 (no proximity).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">prx</td><td>proximity sensing data as count value</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>a negative error code on error, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaeeb1b7c6fc310cdd771b0c700336962b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeeb1b7c6fc310cdd771b0c700336962b">&#9670;&nbsp;</a></span>apds99xx_read_rgb_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int apds99xx_read_rgb_raw </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structapds99xx__t.html">apds99xx_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionapds99xx__rgb__t.html">apds99xx_rgb_t</a> *&#160;</td>
          <td class="paramname"><em>rgb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one raw RGB color data sample (APDS9950 and APDS9960 only) </p>
<p>In APDS9950 and APDS9960 sensors, ambient light sensing (ALS) also detects spectral components of the light as RGB count values. This function can be used to fetch raw RGB data.</p>
<p>Raw RGB data are available as 16-bit count values (cnt_als). The range of these count values depends on the ALS integration time <a class="el" href="structapds99xx__params__t.html#ae9f2720dd1fa118d2bdd757c043f7fd5" title="ALS integration time in steps. ">apds99xx_params_t::als_steps</a> and the ALS gain <a class="el" href="structapds99xx__params__t.html#a587f685eb3c7ad170181fdacda1411f3" title="Gain used for ALS. ">apds99xx_params_t::als_gain</a>. The maximum count value (cnt_rgb_max) is: </p><pre class="fragment"> cnt_rgb_max = APDS99XX_CNTS_P_STEP * als_steps * als_gain
</pre><p>If there are no data ready to read, last valid data sample is returned. Function <a class="el" href="group__drivers__apds99xx.html#ga7e18dc27475ccda7f22e004fc31b76d7" title="Ambient light sensing (ALS) data-ready status function. ">apds99xx_data_ready_als</a> could be used to check whether new data are available before this function is called.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only available for APDS9950 and APD9960.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>device descriptor of APDS99XX sensor </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rgb</td><td>RGB color data sample as count values</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">APDS99XX_OK</td><td>on success </td></tr>
    <tr><td class="paramname">APDS99XX_ERROR_*</td><td>negative error code, see <a class="el" href="group__drivers__apds99xx.html#gab524bd71c1b612a5164cc4d3b741bc14" title="Definition of error codes. ">apds99xx_error_codes_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
        <ul>
            <li class="footer">Generated on Fri Jul 3 2020 13:27:54 by <a href="http://www.doxygen.org/index.html">
                       <img class="footer" src="doxygen.png" alt="doxygen"></a> 1.8.13</li>
        </ul>
    </div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap.min.js"></script>
    <script src="jquery.smartmenus.min.js"></script>
    <script src="jquery.smartmenus.bootstrap.min.js"></script>
    <script src="riot-doxy.js"></script>
  </body>
</html>
